"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/auth/me/route";
exports.ids = ["app/api/auth/me/route"];
exports.modules = {

/***/ "@prisma/client":
/*!*********************************!*\
  !*** external "@prisma/client" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("@prisma/client");

/***/ }),

/***/ "better-sqlite3":
/*!*********************************!*\
  !*** external "better-sqlite3" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("better-sqlite3");

/***/ }),

/***/ "../../client/components/action-async-storage.external":
/*!*******************************************************************************!*\
  !*** external "next/dist/client/components/action-async-storage.external.js" ***!
  \*******************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/action-async-storage.external.js");

/***/ }),

/***/ "../../client/components/request-async-storage.external":
/*!********************************************************************************!*\
  !*** external "next/dist/client/components/request-async-storage.external.js" ***!
  \********************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/request-async-storage.external.js");

/***/ }),

/***/ "../../client/components/static-generation-async-storage.external":
/*!******************************************************************************************!*\
  !*** external "next/dist/client/components/static-generation-async-storage.external.js" ***!
  \******************************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/static-generation-async-storage.external.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("buffer");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("stream");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("util");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fauth%2Fme%2Froute&page=%2Fapi%2Fauth%2Fme%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2Fme%2Froute.ts&appDir=C%3A%5CUsers%5CUsu%C3%A1rio%5CDocuments%5Ctrae_projects%5Ciptv%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CUsu%C3%A1rio%5CDocuments%5Ctrae_projects%5Ciptv&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fauth%2Fme%2Froute&page=%2Fapi%2Fauth%2Fme%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2Fme%2Froute.ts&appDir=C%3A%5CUsers%5CUsu%C3%A1rio%5CDocuments%5Ctrae_projects%5Ciptv%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CUsu%C3%A1rio%5CDocuments%5Ctrae_projects%5Ciptv&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_Usu_rio_Documents_trae_projects_iptv_src_app_api_auth_me_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/auth/me/route.ts */ \"(rsc)/./src/app/api/auth/me/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/auth/me/route\",\n        pathname: \"/api/auth/me\",\n        filename: \"route\",\n        bundlePath: \"app/api/auth/me/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\Usuário\\\\Documents\\\\trae_projects\\\\iptv\\\\src\\\\app\\\\api\\\\auth\\\\me\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_Users_Usu_rio_Documents_trae_projects_iptv_src_app_api_auth_me_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/auth/me/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZhdXRoJTJGbWUlMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRmF1dGglMkZtZSUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRmF1dGglMkZtZSUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUNVc3UlQzMlQTFyaW8lNUNEb2N1bWVudHMlNUN0cmFlX3Byb2plY3RzJTVDaXB0diU1Q3NyYyU1Q2FwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9QyUzQSU1Q1VzZXJzJTVDVXN1JUMzJUExcmlvJTVDRG9jdW1lbnRzJTVDdHJhZV9wcm9qZWN0cyU1Q2lwdHYmaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNjO0FBQ3FDO0FBQ2xIO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnSEFBbUI7QUFDM0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsaUVBQWlFO0FBQ3pFO0FBQ0E7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDdUg7O0FBRXZIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWV1dGltZS1mYy8/NjYxMyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCJDOlxcXFxVc2Vyc1xcXFxVc3XDoXJpb1xcXFxEb2N1bWVudHNcXFxcdHJhZV9wcm9qZWN0c1xcXFxpcHR2XFxcXHNyY1xcXFxhcHBcXFxcYXBpXFxcXGF1dGhcXFxcbWVcXFxccm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL2F1dGgvbWUvcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9hdXRoL21lXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9hdXRoL21lL3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiQzpcXFxcVXNlcnNcXFxcVXN1w6FyaW9cXFxcRG9jdW1lbnRzXFxcXHRyYWVfcHJvamVjdHNcXFxcaXB0dlxcXFxzcmNcXFxcYXBwXFxcXGFwaVxcXFxhdXRoXFxcXG1lXFxcXHJvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MgfSA9IHJvdXRlTW9kdWxlO1xuY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2FwaS9hdXRoL21lL3JvdXRlXCI7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHNlcnZlckhvb2tzLFxuICAgICAgICBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fauth%2Fme%2Froute&page=%2Fapi%2Fauth%2Fme%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2Fme%2Froute.ts&appDir=C%3A%5CUsers%5CUsu%C3%A1rio%5CDocuments%5Ctrae_projects%5Ciptv%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CUsu%C3%A1rio%5CDocuments%5Ctrae_projects%5Ciptv&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/auth/me/route.ts":
/*!**************************************!*\
  !*** ./src/app/api/auth/me/route.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_auth__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/auth */ \"(rsc)/./src/lib/auth.ts\");\n/* harmony import */ var _lib_db__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/db */ \"(rsc)/./src/lib/db.ts\");\n/* harmony import */ var next_headers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/headers */ \"(rsc)/./node_modules/next/dist/api/headers.js\");\n\n\n\n\nasync function GET() {\n    const token = (0,next_headers__WEBPACK_IMPORTED_MODULE_3__.cookies)().get(\"auth_token\")?.value;\n    if (!token) {\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Not authenticated\"\n        }, {\n            status: 401\n        });\n    }\n    const decoded = _lib_auth__WEBPACK_IMPORTED_MODULE_1__.auth.verifyToken(token);\n    if (!decoded) {\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Invalid token\"\n        }, {\n            status: 401\n        });\n    }\n    const users = await _lib_db__WEBPACK_IMPORTED_MODULE_2__.db.users.findAll();\n    const user = users.find((u)=>u.id === decoded.userId);\n    if (!user) {\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"User not found\"\n        }, {\n            status: 404\n        });\n    }\n    return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n        user: {\n            id: user.id,\n            name: user.name,\n            email: user.email,\n            role: user.role,\n            is_socio: user.is_socio,\n            permissions: _lib_db__WEBPACK_IMPORTED_MODULE_2__.db.roles.getPermissions(user.role)\n        }\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9hdXRoL21lL3JvdXRlLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQTJDO0FBQ1Q7QUFDSjtBQUNTO0FBRWhDLGVBQWVJO0lBQ3BCLE1BQU1DLFFBQVFGLHFEQUFPQSxHQUFHRyxHQUFHLENBQUMsZUFBZUM7SUFFM0MsSUFBSSxDQUFDRixPQUFPO1FBQ1YsT0FBT0wscURBQVlBLENBQUNRLElBQUksQ0FBQztZQUFFQyxPQUFPO1FBQW9CLEdBQUc7WUFBRUMsUUFBUTtRQUFJO0lBQ3pFO0lBRUEsTUFBTUMsVUFBVVYsMkNBQUlBLENBQUNXLFdBQVcsQ0FBQ1A7SUFDakMsSUFBSSxDQUFDTSxTQUFTO1FBQ1osT0FBT1gscURBQVlBLENBQUNRLElBQUksQ0FBQztZQUFFQyxPQUFPO1FBQWdCLEdBQUc7WUFBRUMsUUFBUTtRQUFJO0lBQ3JFO0lBRUEsTUFBTUcsUUFBUSxNQUFNWCx1Q0FBRUEsQ0FBQ1csS0FBSyxDQUFDQyxPQUFPO0lBQ3BDLE1BQU1DLE9BQU9GLE1BQU1HLElBQUksQ0FBQ0MsQ0FBQUEsSUFBS0EsRUFBRUMsRUFBRSxLQUFLUCxRQUFRUSxNQUFNO0lBRXBELElBQUksQ0FBQ0osTUFBTTtRQUNULE9BQU9mLHFEQUFZQSxDQUFDUSxJQUFJLENBQUM7WUFBRUMsT0FBTztRQUFpQixHQUFHO1lBQUVDLFFBQVE7UUFBSTtJQUN0RTtJQUVBLE9BQU9WLHFEQUFZQSxDQUFDUSxJQUFJLENBQUM7UUFDdkJPLE1BQU07WUFDSkcsSUFBSUgsS0FBS0csRUFBRTtZQUNYRSxNQUFNTCxLQUFLSyxJQUFJO1lBQ2ZDLE9BQU9OLEtBQUtNLEtBQUs7WUFDakJDLE1BQU1QLEtBQUtPLElBQUk7WUFDZkMsVUFBVVIsS0FBS1EsUUFBUTtZQUN2QkMsYUFBYXRCLHVDQUFFQSxDQUFDdUIsS0FBSyxDQUFDQyxjQUFjLENBQUNYLEtBQUtPLElBQUk7UUFDaEQ7SUFDRjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWV1dGltZS1mYy8uL3NyYy9hcHAvYXBpL2F1dGgvbWUvcm91dGUudHM/NThiZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcic7XG5pbXBvcnQgeyBhdXRoIH0gZnJvbSAnQC9saWIvYXV0aCc7XG5pbXBvcnQgeyBkYiB9IGZyb20gJ0AvbGliL2RiJztcbmltcG9ydCB7IGNvb2tpZXMgfSBmcm9tICduZXh0L2hlYWRlcnMnO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gR0VUKCkge1xuICBjb25zdCB0b2tlbiA9IGNvb2tpZXMoKS5nZXQoJ2F1dGhfdG9rZW4nKT8udmFsdWU7XG5cbiAgaWYgKCF0b2tlbikge1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnTm90IGF1dGhlbnRpY2F0ZWQnIH0sIHsgc3RhdHVzOiA0MDEgfSk7XG4gIH1cblxuICBjb25zdCBkZWNvZGVkID0gYXV0aC52ZXJpZnlUb2tlbih0b2tlbik7XG4gIGlmICghZGVjb2RlZCkge1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnSW52YWxpZCB0b2tlbicgfSwgeyBzdGF0dXM6IDQwMSB9KTtcbiAgfVxuXG4gIGNvbnN0IHVzZXJzID0gYXdhaXQgZGIudXNlcnMuZmluZEFsbCgpO1xuICBjb25zdCB1c2VyID0gdXNlcnMuZmluZCh1ID0+IHUuaWQgPT09IGRlY29kZWQudXNlcklkKTtcblxuICBpZiAoIXVzZXIpIHtcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogJ1VzZXIgbm90IGZvdW5kJyB9LCB7IHN0YXR1czogNDA0IH0pO1xuICB9XG5cbiAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcbiAgICB1c2VyOiB7XG4gICAgICBpZDogdXNlci5pZCxcbiAgICAgIG5hbWU6IHVzZXIubmFtZSxcbiAgICAgIGVtYWlsOiB1c2VyLmVtYWlsLFxuICAgICAgcm9sZTogdXNlci5yb2xlLFxuICAgICAgaXNfc29jaW86IHVzZXIuaXNfc29jaW8sXG4gICAgICBwZXJtaXNzaW9uczogZGIucm9sZXMuZ2V0UGVybWlzc2lvbnModXNlci5yb2xlKVxuICAgIH1cbiAgfSk7XG59XG4iXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwiYXV0aCIsImRiIiwiY29va2llcyIsIkdFVCIsInRva2VuIiwiZ2V0IiwidmFsdWUiLCJqc29uIiwiZXJyb3IiLCJzdGF0dXMiLCJkZWNvZGVkIiwidmVyaWZ5VG9rZW4iLCJ1c2VycyIsImZpbmRBbGwiLCJ1c2VyIiwiZmluZCIsInUiLCJpZCIsInVzZXJJZCIsIm5hbWUiLCJlbWFpbCIsInJvbGUiLCJpc19zb2NpbyIsInBlcm1pc3Npb25zIiwicm9sZXMiLCJnZXRQZXJtaXNzaW9ucyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/auth/me/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/auth.ts":
/*!*************************!*\
  !*** ./src/lib/auth.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   auth: () => (/* binding */ auth)\n/* harmony export */ });\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! bcryptjs */ \"(rsc)/./node_modules/bcryptjs/index.js\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jsonwebtoken */ \"(rsc)/./node_modules/jsonwebtoken/index.js\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jsonwebtoken__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _lib_db__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/db */ \"(rsc)/./src/lib/db.ts\");\n\n\n\nconst JWT_SECRET = process.env.JWT_SECRET || \"default-secret-key-change-in-prod\";\nconst auth = {\n    hashPassword: async (password)=>{\n        return await bcryptjs__WEBPACK_IMPORTED_MODULE_0__[\"default\"].hash(password, 10);\n    },\n    comparePassword: async (password, hash)=>{\n        return await bcryptjs__WEBPACK_IMPORTED_MODULE_0__[\"default\"].compare(password, hash);\n    },\n    generateToken: (user)=>{\n        // Get permissions based on role\n        const permissions = _lib_db__WEBPACK_IMPORTED_MODULE_2__.db.roles.getPermissions(user.role);\n        return jsonwebtoken__WEBPACK_IMPORTED_MODULE_1___default().sign({\n            userId: user.id,\n            role: user.role,\n            teamId: user.team_id,\n            isSocio: user.is_socio,\n            permissions: permissions\n        }, JWT_SECRET, {\n            expiresIn: \"24h\"\n        });\n    },\n    verifyToken: (token)=>{\n        try {\n            return jsonwebtoken__WEBPACK_IMPORTED_MODULE_1___default().verify(token, JWT_SECRET);\n        } catch (error) {\n            return null;\n        }\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL2F1dGgudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBOEI7QUFDQztBQUVEO0FBRTlCLE1BQU1HLGFBQWFDLFFBQVFDLEdBQUcsQ0FBQ0YsVUFBVSxJQUFJO0FBRXRDLE1BQU1HLE9BQU87SUFDbEJDLGNBQWMsT0FBT0M7UUFDbkIsT0FBTyxNQUFNUixxREFBVyxDQUFDUSxVQUFVO0lBQ3JDO0lBRUFFLGlCQUFpQixPQUFPRixVQUFrQkM7UUFDeEMsT0FBTyxNQUFNVCx3REFBYyxDQUFDUSxVQUFVQztJQUN4QztJQUVBRyxlQUFlLENBQUNDO1FBQ2QsZ0NBQWdDO1FBQ2hDLE1BQU1DLGNBQWNaLHVDQUFFQSxDQUFDYSxLQUFLLENBQUNDLGNBQWMsQ0FBQ0gsS0FBS0ksSUFBSTtRQUVyRCxPQUFPaEIsd0RBQVEsQ0FDYjtZQUNFa0IsUUFBUU4sS0FBS08sRUFBRTtZQUNmSCxNQUFNSixLQUFLSSxJQUFJO1lBQ2ZJLFFBQVFSLEtBQUtTLE9BQU87WUFDcEJDLFNBQVNWLEtBQUtXLFFBQVE7WUFDdEJWLGFBQWFBO1FBQ2YsR0FDQVgsWUFDQTtZQUFFc0IsV0FBVztRQUFNO0lBRXZCO0lBRUFDLGFBQWEsQ0FBQ0M7UUFDWixJQUFJO1lBQ0YsT0FBTzFCLDBEQUFVLENBQUMwQixPQUFPeEI7UUFDM0IsRUFBRSxPQUFPMEIsT0FBTztZQUNkLE9BQU87UUFDVDtJQUNGO0FBQ0YsRUFBRSIsInNvdXJjZXMiOlsid2VicGFjazovL21ldXRpbWUtZmMvLi9zcmMvbGliL2F1dGgudHM/NjY5MiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgYmNyeXB0IGZyb20gJ2JjcnlwdGpzJztcbmltcG9ydCBqd3QgZnJvbSAnanNvbndlYnRva2VuJztcbmltcG9ydCB7IFVzZXIgfSBmcm9tICdAL3R5cGVzL2F1dGgnO1xuaW1wb3J0IHsgZGIgfSBmcm9tICdAL2xpYi9kYic7XG5cbmNvbnN0IEpXVF9TRUNSRVQgPSBwcm9jZXNzLmVudi5KV1RfU0VDUkVUIHx8ICdkZWZhdWx0LXNlY3JldC1rZXktY2hhbmdlLWluLXByb2QnO1xuXG5leHBvcnQgY29uc3QgYXV0aCA9IHtcbiAgaGFzaFBhc3N3b3JkOiBhc3luYyAocGFzc3dvcmQ6IHN0cmluZyk6IFByb21pc2U8c3RyaW5nPiA9PiB7XG4gICAgcmV0dXJuIGF3YWl0IGJjcnlwdC5oYXNoKHBhc3N3b3JkLCAxMCk7XG4gIH0sXG5cbiAgY29tcGFyZVBhc3N3b3JkOiBhc3luYyAocGFzc3dvcmQ6IHN0cmluZywgaGFzaDogc3RyaW5nKTogUHJvbWlzZTxib29sZWFuPiA9PiB7XG4gICAgcmV0dXJuIGF3YWl0IGJjcnlwdC5jb21wYXJlKHBhc3N3b3JkLCBoYXNoKTtcbiAgfSxcblxuICBnZW5lcmF0ZVRva2VuOiAodXNlcjogVXNlcik6IHN0cmluZyA9PiB7XG4gICAgLy8gR2V0IHBlcm1pc3Npb25zIGJhc2VkIG9uIHJvbGVcbiAgICBjb25zdCBwZXJtaXNzaW9ucyA9IGRiLnJvbGVzLmdldFBlcm1pc3Npb25zKHVzZXIucm9sZSk7XG5cbiAgICByZXR1cm4gand0LnNpZ24oXG4gICAgICB7XG4gICAgICAgIHVzZXJJZDogdXNlci5pZCxcbiAgICAgICAgcm9sZTogdXNlci5yb2xlLFxuICAgICAgICB0ZWFtSWQ6IHVzZXIudGVhbV9pZCxcbiAgICAgICAgaXNTb2NpbzogdXNlci5pc19zb2NpbyxcbiAgICAgICAgcGVybWlzc2lvbnM6IHBlcm1pc3Npb25zXG4gICAgICB9LFxuICAgICAgSldUX1NFQ1JFVCxcbiAgICAgIHsgZXhwaXJlc0luOiAnMjRoJyB9XG4gICAgKTtcbiAgfSxcblxuICB2ZXJpZnlUb2tlbjogKHRva2VuOiBzdHJpbmcpOiBhbnkgPT4ge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gand0LnZlcmlmeSh0b2tlbiwgSldUX1NFQ1JFVCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxufTtcbiJdLCJuYW1lcyI6WyJiY3J5cHQiLCJqd3QiLCJkYiIsIkpXVF9TRUNSRVQiLCJwcm9jZXNzIiwiZW52IiwiYXV0aCIsImhhc2hQYXNzd29yZCIsInBhc3N3b3JkIiwiaGFzaCIsImNvbXBhcmVQYXNzd29yZCIsImNvbXBhcmUiLCJnZW5lcmF0ZVRva2VuIiwidXNlciIsInBlcm1pc3Npb25zIiwicm9sZXMiLCJnZXRQZXJtaXNzaW9ucyIsInJvbGUiLCJzaWduIiwidXNlcklkIiwiaWQiLCJ0ZWFtSWQiLCJ0ZWFtX2lkIiwiaXNTb2NpbyIsImlzX3NvY2lvIiwiZXhwaXJlc0luIiwidmVyaWZ5VG9rZW4iLCJ0b2tlbiIsInZlcmlmeSIsImVycm9yIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/auth.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/db.ts":
/*!***********************!*\
  !*** ./src/lib/db.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   db: () => (/* binding */ db)\n/* harmony export */ });\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _types_settings__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/types/settings */ \"(rsc)/./src/types/settings.ts\");\n/* harmony import */ var _lib_prisma__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/prisma */ \"(rsc)/./src/lib/prisma.ts\");\n\n\n\n\nconst DATA_DIR = path__WEBPACK_IMPORTED_MODULE_1___default().join(process.cwd(), \"data\");\n// RBAC Configuration (Expanded)\nconst ROLES_CONFIG = {\n    \"torcedor\": [\n        \"loja.ver\",\n        \"loja.comprar\",\n        \"view_loja\",\n        \"comprar_produto\",\n        \"ver_campeonatos\"\n    ],\n    \"socio\": [\n        // Torcedor\n        \"loja.ver\",\n        \"loja.comprar\",\n        \"view_loja\",\n        \"comprar_produto\",\n        \"ver_campeonatos\",\n        // Sócio Exclusives\n        \"checkout_1_click\",\n        \"acesso_beneficios\"\n    ],\n    \"admin_time\": [\n        \"loja.ver\",\n        \"loja.criar_produto\",\n        \"loja.editar_produto\",\n        \"loja.ver_pedidos\",\n        \"transmissao.ver_metricas\",\n        \"auth.gerenciar_usuarios\",\n        \"sistema.configuracoes\",\n        // Legacy\n        \"gerenciar_produtos\",\n        \"gerenciar_pedidos\",\n        \"ver_relatorios\"\n    ],\n    \"organizador_liga\": [\n        \"liga.criar\",\n        \"liga.editar\",\n        \"liga.publicar\",\n        \"liga.ver_dashboard\",\n        \"transmissao.iniciar\",\n        \"transmissao.encerrar\",\n        \"transmissao.ver_metricas\",\n        \"sistema.configuracoes\",\n        // Legacy\n        \"criar_campeonato\",\n        \"gerenciar_times\",\n        \"gerenciar_tabela\"\n    ],\n    \"arbitro\": [\n        \"ver_escalas\",\n        \"registrar_resultados\"\n    ],\n    \"super_admin\": [\n        \"sistema.configuracoes\",\n        \"auth.gerenciar_permissoes\",\n        \"auth.gerenciar_usuarios\",\n        \"loja.ver_pedidos\",\n        \"liga.ver_dashboard\"\n    ]\n};\n// Map legacy 'admin' and 'organizador' to new names for compatibility\nconst ROLE_MAPPING = {\n    \"admin\": \"admin_time\",\n    \"organizador\": \"organizador_liga\"\n};\nif (!fs__WEBPACK_IMPORTED_MODULE_0___default().existsSync(DATA_DIR)) {\n    fs__WEBPACK_IMPORTED_MODULE_0___default().mkdirSync(DATA_DIR);\n}\nconst prismaAny = _lib_prisma__WEBPACK_IMPORTED_MODULE_3__[\"default\"];\nconst db = {\n    users: {\n        findAll: async ()=>{\n            const users = await _lib_prisma__WEBPACK_IMPORTED_MODULE_3__[\"default\"].user.findMany();\n            return users.map((u)=>({\n                    id: u.id,\n                    name: u.name,\n                    email: u.email ?? undefined,\n                    phone: u.phone ?? undefined,\n                    password_hash: u.password_hash ?? undefined,\n                    role: u.role,\n                    is_socio: u.is_socio,\n                    team_id: u.team_id,\n                    created_at: u.created_at.toISOString()\n                }));\n        },\n        findByEmail: async (email)=>{\n            const user = await _lib_prisma__WEBPACK_IMPORTED_MODULE_3__[\"default\"].user.findUnique({\n                where: {\n                    email\n                }\n            });\n            if (!user) return undefined;\n            return {\n                id: user.id,\n                name: user.name,\n                email: user.email ?? undefined,\n                phone: user.phone ?? undefined,\n                password_hash: user.password_hash ?? undefined,\n                role: user.role,\n                is_socio: user.is_socio,\n                team_id: user.team_id,\n                created_at: user.created_at.toISOString()\n            };\n        },\n        findByPhone: async (phone)=>{\n            const user = await _lib_prisma__WEBPACK_IMPORTED_MODULE_3__[\"default\"].user.findUnique({\n                where: {\n                    phone\n                }\n            });\n            if (!user) return undefined;\n            return {\n                id: user.id,\n                name: user.name,\n                email: user.email ?? undefined,\n                phone: user.phone ?? undefined,\n                password_hash: user.password_hash ?? undefined,\n                role: user.role,\n                is_socio: user.is_socio,\n                team_id: user.team_id,\n                created_at: user.created_at.toISOString()\n            };\n        },\n        create: async (user)=>{\n            const created = await _lib_prisma__WEBPACK_IMPORTED_MODULE_3__[\"default\"].user.create({\n                data: {\n                    id: user.id,\n                    name: user.name,\n                    email: user.email ?? null,\n                    phone: user.phone ?? null,\n                    password_hash: user.password_hash ?? null,\n                    role: user.role,\n                    is_socio: user.is_socio,\n                    team_id: user.team_id,\n                    created_at: new Date(user.created_at)\n                }\n            });\n            return {\n                id: created.id,\n                name: created.name,\n                email: created.email ?? undefined,\n                phone: created.phone ?? undefined,\n                password_hash: created.password_hash ?? undefined,\n                role: created.role,\n                is_socio: created.is_socio,\n                team_id: created.team_id,\n                created_at: created.created_at.toISOString()\n            };\n        },\n        update: async (userId, updates)=>{\n            try {\n                const updated = await _lib_prisma__WEBPACK_IMPORTED_MODULE_3__[\"default\"].user.update({\n                    where: {\n                        id: userId\n                    },\n                    data: {\n                        name: updates.name,\n                        email: updates.email ?? null,\n                        phone: updates.phone ?? null,\n                        password_hash: updates.password_hash ?? null,\n                        role: updates.role,\n                        is_socio: updates.is_socio,\n                        team_id: updates.team_id,\n                        created_at: updates.created_at ? new Date(updates.created_at) : undefined\n                    }\n                });\n                return {\n                    id: updated.id,\n                    name: updated.name,\n                    email: updated.email ?? undefined,\n                    phone: updated.phone ?? undefined,\n                    password_hash: updated.password_hash ?? undefined,\n                    role: updated.role,\n                    is_socio: updated.is_socio,\n                    team_id: updated.team_id,\n                    created_at: updated.created_at.toISOString()\n                };\n            } catch  {\n                return null;\n            }\n        }\n    },\n    roles: {\n        getPermissions: (roleName)=>{\n            const mappedRole = ROLE_MAPPING[roleName] || roleName;\n            return ROLES_CONFIG[mappedRole] || ROLES_CONFIG[\"torcedor\"];\n        }\n    },\n    settings: {\n        get: async (tenantId = \"global\")=>{\n            const record = await prismaAny.systemSettings.findUnique({\n                where: {\n                    id: tenantId\n                }\n            });\n            if (!record) {\n                const settingsToPersist = {\n                    ..._types_settings__WEBPACK_IMPORTED_MODULE_2__.DEFAULT_SETTINGS,\n                    id: tenantId\n                };\n                await prismaAny.systemSettings.create({\n                    data: {\n                        id: tenantId,\n                        data: settingsToPersist\n                    }\n                });\n                return settingsToPersist;\n            }\n            const data = record.data;\n            return {\n                ...data,\n                id: record.id\n            };\n        },\n        update: async (tenantId, updates, userId, userEmail)=>{\n            const existing = await prismaAny.systemSettings.findUnique({\n                where: {\n                    id: tenantId\n                }\n            });\n            const currentSettings = existing ? {\n                ...existing.data,\n                id: tenantId\n            } : {\n                ..._types_settings__WEBPACK_IMPORTED_MODULE_2__.DEFAULT_SETTINGS,\n                id: tenantId\n            };\n            const oldSettings = {\n                ...currentSettings\n            };\n            const newSettings = {\n                ...currentSettings,\n                ...updates,\n                updatedAt: new Date().toISOString()\n            };\n            await prismaAny.systemSettings.upsert({\n                where: {\n                    id: tenantId\n                },\n                update: {\n                    data: newSettings\n                },\n                create: {\n                    id: tenantId,\n                    data: newSettings\n                }\n            });\n            if (userId && userEmail) {\n                const updatedModules = Object.keys(updates);\n                for (const m of updatedModules){\n                    if (m === \"id\" || m === \"updatedAt\") continue;\n                    await db.logs.create({\n                        id: crypto.randomUUID(),\n                        tenantId,\n                        userId,\n                        userEmail,\n                        module: m,\n                        action: \"UPDATE\",\n                        oldValue: oldSettings[m],\n                        newValue: newSettings[m],\n                        createdAt: new Date().toISOString()\n                    });\n                }\n            }\n            return newSettings;\n        }\n    },\n    logs: {\n        findAll: async ()=>{\n            const records = await prismaAny.settingsLog.findMany({\n                orderBy: {\n                    createdAt: \"desc\"\n                }\n            });\n            return records.map((log)=>({\n                    id: log.id,\n                    tenantId: log.tenantId,\n                    userId: log.userId,\n                    userEmail: log.userEmail,\n                    module: log.module,\n                    action: log.action,\n                    oldValue: log.oldValue,\n                    newValue: log.newValue,\n                    createdAt: log.createdAt.toISOString()\n                }));\n        },\n        create: async (log)=>{\n            await prismaAny.settingsLog.create({\n                data: {\n                    id: log.id,\n                    tenantId: log.tenantId,\n                    userId: log.userId,\n                    userEmail: log.userEmail,\n                    module: log.module,\n                    action: log.action,\n                    oldValue: log.oldValue,\n                    newValue: log.newValue,\n                    createdAt: new Date(log.createdAt)\n                }\n            });\n            return log;\n        }\n    },\n    sessions: {\n        findAll: async ()=>{\n            const records = await prismaAny.userSession.findMany();\n            return records.map((session)=>({\n                    id: session.id,\n                    userId: session.userId,\n                    token: session.token,\n                    ipAddress: session.ipAddress,\n                    userAgent: session.userAgent,\n                    createdAt: session.createdAt.toISOString(),\n                    expiresAt: session.expiresAt.toISOString(),\n                    isActive: session.isActive\n                }));\n        },\n        create: async (session)=>{\n            const created = await prismaAny.userSession.create({\n                data: {\n                    id: session.id,\n                    userId: session.userId,\n                    token: session.token,\n                    ipAddress: session.ipAddress,\n                    userAgent: session.userAgent,\n                    createdAt: new Date(session.createdAt),\n                    expiresAt: new Date(session.expiresAt),\n                    isActive: session.isActive\n                }\n            });\n            return {\n                id: created.id,\n                userId: created.userId,\n                token: created.token,\n                ipAddress: created.ipAddress,\n                userAgent: created.userAgent,\n                createdAt: created.createdAt.toISOString(),\n                expiresAt: created.expiresAt.toISOString(),\n                isActive: created.isActive\n            };\n        },\n        kill: async (sessionId)=>{\n            await prismaAny.userSession.updateMany({\n                where: {\n                    id: sessionId\n                },\n                data: {\n                    isActive: false\n                }\n            });\n        },\n        killAll: async ()=>{\n            await prismaAny.userSession.updateMany({\n                data: {\n                    isActive: false\n                }\n            });\n        }\n    },\n    consents: {\n        findAll: async ()=>{\n            const records = await prismaAny.privacyConsent.findMany();\n            return records.map((consent)=>({\n                    id: consent.id,\n                    userId: consent.userId,\n                    consentType: consent.consentType,\n                    accepted: consent.accepted,\n                    acceptedAt: consent.acceptedAt.toISOString(),\n                    ipAddress: consent.ipAddress\n                }));\n        },\n        create: async (consent)=>{\n            const created = await prismaAny.privacyConsent.create({\n                data: {\n                    id: consent.id,\n                    userId: consent.userId,\n                    consentType: consent.consentType,\n                    accepted: consent.accepted,\n                    acceptedAt: new Date(consent.acceptedAt),\n                    ipAddress: consent.ipAddress\n                }\n            });\n            return {\n                id: created.id,\n                userId: created.userId,\n                consentType: created.consentType,\n                accepted: created.accepted,\n                acceptedAt: created.acceptedAt.toISOString(),\n                ipAddress: created.ipAddress\n            };\n        }\n    },\n    otp: {\n        findAll: async ()=>{\n            const records = await prismaAny.otp.findMany();\n            return records.map((otp)=>({\n                    id: otp.id,\n                    phone: otp.phone,\n                    code: otp.code,\n                    expires_at: otp.expires_at.toISOString(),\n                    verified: otp.verified\n                }));\n        },\n        create: async (otp)=>{\n            await prismaAny.otp.deleteMany({\n                where: {\n                    phone: otp.phone\n                }\n            });\n            const created = await prismaAny.otp.create({\n                data: {\n                    id: otp.id,\n                    phone: otp.phone,\n                    code: otp.code,\n                    expires_at: new Date(otp.expires_at),\n                    verified: otp.verified\n                }\n            });\n            return {\n                id: created.id,\n                phone: created.phone,\n                code: created.code,\n                expires_at: created.expires_at.toISOString(),\n                verified: created.verified\n            };\n        },\n        findValid: async (phone, code)=>{\n            const record = await prismaAny.otp.findFirst({\n                where: {\n                    phone,\n                    code,\n                    verified: false,\n                    expires_at: {\n                        gt: new Date()\n                    }\n                }\n            });\n            if (!record) {\n                return undefined;\n            }\n            return {\n                id: record.id,\n                phone: record.phone,\n                code: record.code,\n                expires_at: record.expires_at.toISOString(),\n                verified: record.verified\n            };\n        },\n        markVerified: async (id)=>{\n            await prismaAny.otp.updateMany({\n                where: {\n                    id\n                },\n                data: {\n                    verified: true\n                }\n            });\n        }\n    },\n    passwordResets: {\n        findAll: async ()=>{\n            const resets = await _lib_prisma__WEBPACK_IMPORTED_MODULE_3__[\"default\"].passwordReset.findMany();\n            return resets.map((r)=>({\n                    id: r.id,\n                    userId: r.userId,\n                    channel: r.channel,\n                    contact: r.contact,\n                    expires_at: r.expires_at.toISOString(),\n                    used: r.used\n                }));\n        },\n        create: async (reset)=>{\n            await _lib_prisma__WEBPACK_IMPORTED_MODULE_3__[\"default\"].passwordReset.deleteMany({\n                where: {\n                    userId: reset.userId,\n                    channel: reset.channel\n                }\n            });\n            const created = await _lib_prisma__WEBPACK_IMPORTED_MODULE_3__[\"default\"].passwordReset.create({\n                data: {\n                    id: reset.id,\n                    userId: reset.userId,\n                    channel: reset.channel,\n                    contact: reset.contact,\n                    expires_at: new Date(reset.expires_at),\n                    used: reset.used\n                }\n            });\n            return {\n                id: created.id,\n                userId: created.userId,\n                channel: created.channel,\n                contact: created.contact,\n                expires_at: created.expires_at.toISOString(),\n                used: created.used\n            };\n        },\n        findValid: async (token)=>{\n            const reset = await _lib_prisma__WEBPACK_IMPORTED_MODULE_3__[\"default\"].passwordReset.findFirst({\n                where: {\n                    id: token,\n                    used: false,\n                    expires_at: {\n                        gt: new Date()\n                    }\n                }\n            });\n            if (!reset) return undefined;\n            return {\n                id: reset.id,\n                userId: reset.userId,\n                channel: reset.channel,\n                contact: reset.contact,\n                expires_at: reset.expires_at.toISOString(),\n                used: reset.used\n            };\n        },\n        markUsed: async (token)=>{\n            await _lib_prisma__WEBPACK_IMPORTED_MODULE_3__[\"default\"].passwordReset.updateMany({\n                where: {\n                    id: token\n                },\n                data: {\n                    used: true\n                }\n            });\n        }\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q3hDK0UsTUFBTUMsTUFBTUQsSUFBSTtZQUNsQjtRQUNGO1FBRUFFLFVBQVUsT0FBT2hDO1lBQ2YsTUFBTTVFLG1EQUFNQSxDQUFDc0csYUFBYSxDQUFDbkIsVUFBVSxDQUFDO2dCQUNwQ3JELE9BQU87b0JBQUViLElBQUkyRDtnQkFBTTtnQkFDbkIxQyxNQUFNO29CQUFFd0UsTUFBTTtnQkFBSztZQUNyQjtRQUNGO0lBQ0Y7QUFDRixFQUFFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWV1dGltZS1mYy8uL3NyYy9saWIvZGIudHM/OWU0ZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZnMgZnJvbSAnZnMnO1xuaW1wb3J0IHBhdGggZnJvbSAncGF0aCc7XG5pbXBvcnQgeyBVc2VyIGFzIEF1dGhVc2VyLCBPVFAsIFBlcm1pc3Npb25LZXksIFBhc3N3b3JkUmVzZXQgYXMgUGFzc3dvcmRSZXNldFR5cGUgfSBmcm9tICdAL3R5cGVzL2F1dGgnO1xuaW1wb3J0IHsgU3lzdGVtU2V0dGluZ3MsIERFRkFVTFRfU0VUVElOR1MsIFNldHRpbmdzTG9nLCBVc2VyU2Vzc2lvbiwgUHJpdmFjeUNvbnNlbnQgfSBmcm9tICdAL3R5cGVzL3NldHRpbmdzJztcbmltcG9ydCBwcmlzbWEgZnJvbSAnQC9saWIvcHJpc21hJztcblxuY29uc3QgREFUQV9ESVIgPSBwYXRoLmpvaW4ocHJvY2Vzcy5jd2QoKSwgJ2RhdGEnKTtcblxuLy8gUkJBQyBDb25maWd1cmF0aW9uIChFeHBhbmRlZClcbmNvbnN0IFJPTEVTX0NPTkZJRzogUmVjb3JkPHN0cmluZywgUGVybWlzc2lvbktleVtdPiA9IHtcbiAgJ3RvcmNlZG9yJzogW1xuICAgICdsb2phLnZlcicsIFxuICAgICdsb2phLmNvbXByYXInLCBcbiAgICAndmlld19sb2phJywgXG4gICAgJ2NvbXByYXJfcHJvZHV0bycsIFxuICAgICd2ZXJfY2FtcGVvbmF0b3MnXG4gIF0sXG4gICdzb2Npbyc6IFtcbiAgICAvLyBUb3JjZWRvclxuICAgICdsb2phLnZlcicsIFxuICAgICdsb2phLmNvbXByYXInLCBcbiAgICAndmlld19sb2phJywgXG4gICAgJ2NvbXByYXJfcHJvZHV0bycsIFxuICAgICd2ZXJfY2FtcGVvbmF0b3MnLFxuICAgIC8vIFPDs2NpbyBFeGNsdXNpdmVzXG4gICAgJ2NoZWNrb3V0XzFfY2xpY2snLCBcbiAgICAnYWNlc3NvX2JlbmVmaWNpb3MnXG4gIF0sXG4gICdhZG1pbl90aW1lJzogW1xuICAgICdsb2phLnZlcicsXG4gICAgJ2xvamEuY3JpYXJfcHJvZHV0bycsXG4gICAgJ2xvamEuZWRpdGFyX3Byb2R1dG8nLFxuICAgICdsb2phLnZlcl9wZWRpZG9zJyxcbiAgICAndHJhbnNtaXNzYW8udmVyX21ldHJpY2FzJyxcbiAgICAnYXV0aC5nZXJlbmNpYXJfdXN1YXJpb3MnLFxuICAgICdzaXN0ZW1hLmNvbmZpZ3VyYWNvZXMnLCAvLyBBbGxvdyBzZXR0aW5ncyBhY2Nlc3NcbiAgICAvLyBMZWdhY3lcbiAgICAnZ2VyZW5jaWFyX3Byb2R1dG9zJywgXG4gICAgJ2dlcmVuY2lhcl9wZWRpZG9zJywgXG4gICAgJ3Zlcl9yZWxhdG9yaW9zJ1xuICBdLFxuICAnb3JnYW5pemFkb3JfbGlnYSc6IFtcbiAgICAnbGlnYS5jcmlhcicsXG4gICAgJ2xpZ2EuZWRpdGFyJyxcbiAgICAnbGlnYS5wdWJsaWNhcicsXG4gICAgJ2xpZ2EudmVyX2Rhc2hib2FyZCcsXG4gICAgJ3RyYW5zbWlzc2FvLmluaWNpYXInLFxuICAgICd0cmFuc21pc3Nhby5lbmNlcnJhcicsXG4gICAgJ3RyYW5zbWlzc2FvLnZlcl9tZXRyaWNhcycsXG4gICAgJ3Npc3RlbWEuY29uZmlndXJhY29lcycsIC8vIEFsbG93IHNldHRpbmdzIGFjY2Vzc1xuICAgIC8vIExlZ2FjeVxuICAgICdjcmlhcl9jYW1wZW9uYXRvJywgXG4gICAgJ2dlcmVuY2lhcl90aW1lcycsIFxuICAgICdnZXJlbmNpYXJfdGFiZWxhJ1xuICBdLFxuICAnYXJiaXRybyc6IFtcbiAgICAndmVyX2VzY2FsYXMnLCBcbiAgICAncmVnaXN0cmFyX3Jlc3VsdGFkb3MnXG4gIF0sXG4gICdzdXBlcl9hZG1pbic6IFtcbiAgICAnc2lzdGVtYS5jb25maWd1cmFjb2VzJyxcbiAgICAnYXV0aC5nZXJlbmNpYXJfcGVybWlzc29lcycsXG4gICAgJ2F1dGguZ2VyZW5jaWFyX3VzdWFyaW9zJyxcbiAgICAnbG9qYS52ZXJfcGVkaWRvcycsXG4gICAgJ2xpZ2EudmVyX2Rhc2hib2FyZCdcbiAgXVxufTtcblxuLy8gTWFwIGxlZ2FjeSAnYWRtaW4nIGFuZCAnb3JnYW5pemFkb3InIHRvIG5ldyBuYW1lcyBmb3IgY29tcGF0aWJpbGl0eVxuY29uc3QgUk9MRV9NQVBQSU5HOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge1xuICAnYWRtaW4nOiAnYWRtaW5fdGltZScsXG4gICdvcmdhbml6YWRvcic6ICdvcmdhbml6YWRvcl9saWdhJ1xufTtcblxuaWYgKCFmcy5leGlzdHNTeW5jKERBVEFfRElSKSkge1xuICBmcy5ta2RpclN5bmMoREFUQV9ESVIpO1xufVxuXG5jb25zdCBwcmlzbWFBbnkgPSBwcmlzbWEgYXMgYW55O1xuXG5leHBvcnQgY29uc3QgZGIgPSB7XG4gIHVzZXJzOiB7XG4gICAgZmluZEFsbDogYXN5bmMgKCk6IFByb21pc2U8QXV0aFVzZXJbXT4gPT4ge1xuICAgICAgY29uc3QgdXNlcnMgPSBhd2FpdCBwcmlzbWEudXNlci5maW5kTWFueSgpO1xuICAgICAgcmV0dXJuIHVzZXJzLm1hcCh1ID0+ICh7XG4gICAgICAgIGlkOiB1LmlkLFxuICAgICAgICBuYW1lOiB1Lm5hbWUsXG4gICAgICAgIGVtYWlsOiB1LmVtYWlsID8/IHVuZGVmaW5lZCxcbiAgICAgICAgcGhvbmU6IHUucGhvbmUgPz8gdW5kZWZpbmVkLFxuICAgICAgICBwYXNzd29yZF9oYXNoOiB1LnBhc3N3b3JkX2hhc2ggPz8gdW5kZWZpbmVkLFxuICAgICAgICByb2xlOiB1LnJvbGUsXG4gICAgICAgIGlzX3NvY2lvOiB1LmlzX3NvY2lvLFxuICAgICAgICB0ZWFtX2lkOiB1LnRlYW1faWQsXG4gICAgICAgIGNyZWF0ZWRfYXQ6IHUuY3JlYXRlZF9hdC50b0lTT1N0cmluZygpXG4gICAgICB9KSk7XG4gICAgfSxcblxuICAgIGZpbmRCeUVtYWlsOiBhc3luYyAoZW1haWw6IHN0cmluZyk6IFByb21pc2U8QXV0aFVzZXIgfCB1bmRlZmluZWQ+ID0+IHtcbiAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBwcmlzbWEudXNlci5maW5kVW5pcXVlKHsgd2hlcmU6IHsgZW1haWwgfSB9KTtcbiAgICAgIGlmICghdXNlcikgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGlkOiB1c2VyLmlkLFxuICAgICAgICBuYW1lOiB1c2VyLm5hbWUsXG4gICAgICAgIGVtYWlsOiB1c2VyLmVtYWlsID8/IHVuZGVmaW5lZCxcbiAgICAgICAgcGhvbmU6IHVzZXIucGhvbmUgPz8gdW5kZWZpbmVkLFxuICAgICAgICBwYXNzd29yZF9oYXNoOiB1c2VyLnBhc3N3b3JkX2hhc2ggPz8gdW5kZWZpbmVkLFxuICAgICAgICByb2xlOiB1c2VyLnJvbGUsXG4gICAgICAgIGlzX3NvY2lvOiB1c2VyLmlzX3NvY2lvLFxuICAgICAgICB0ZWFtX2lkOiB1c2VyLnRlYW1faWQsXG4gICAgICAgIGNyZWF0ZWRfYXQ6IHVzZXIuY3JlYXRlZF9hdC50b0lTT1N0cmluZygpXG4gICAgICB9O1xuICAgIH0sXG5cbiAgICBmaW5kQnlQaG9uZTogYXN5bmMgKHBob25lOiBzdHJpbmcpOiBQcm9taXNlPEF1dGhVc2VyIHwgdW5kZWZpbmVkPiA9PiB7XG4gICAgICBjb25zdCB1c2VyID0gYXdhaXQgcHJpc21hLnVzZXIuZmluZFVuaXF1ZSh7IHdoZXJlOiB7IHBob25lIH0gfSk7XG4gICAgICBpZiAoIXVzZXIpIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBpZDogdXNlci5pZCxcbiAgICAgICAgbmFtZTogdXNlci5uYW1lLFxuICAgICAgICBlbWFpbDogdXNlci5lbWFpbCA/PyB1bmRlZmluZWQsXG4gICAgICAgIHBob25lOiB1c2VyLnBob25lID8/IHVuZGVmaW5lZCxcbiAgICAgICAgcGFzc3dvcmRfaGFzaDogdXNlci5wYXNzd29yZF9oYXNoID8/IHVuZGVmaW5lZCxcbiAgICAgICAgcm9sZTogdXNlci5yb2xlLFxuICAgICAgICBpc19zb2NpbzogdXNlci5pc19zb2NpbyxcbiAgICAgICAgdGVhbV9pZDogdXNlci50ZWFtX2lkLFxuICAgICAgICBjcmVhdGVkX2F0OiB1c2VyLmNyZWF0ZWRfYXQudG9JU09TdHJpbmcoKVxuICAgICAgfTtcbiAgICB9LFxuXG4gICAgY3JlYXRlOiBhc3luYyAodXNlcjogQXV0aFVzZXIpOiBQcm9taXNlPEF1dGhVc2VyPiA9PiB7XG4gICAgICBjb25zdCBjcmVhdGVkID0gYXdhaXQgcHJpc21hLnVzZXIuY3JlYXRlKHtcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIGlkOiB1c2VyLmlkLFxuICAgICAgICAgIG5hbWU6IHVzZXIubmFtZSxcbiAgICAgICAgICBlbWFpbDogdXNlci5lbWFpbCA/PyBudWxsLFxuICAgICAgICAgIHBob25lOiB1c2VyLnBob25lID8/IG51bGwsXG4gICAgICAgICAgcGFzc3dvcmRfaGFzaDogdXNlci5wYXNzd29yZF9oYXNoID8/IG51bGwsXG4gICAgICAgICAgcm9sZTogdXNlci5yb2xlLFxuICAgICAgICAgIGlzX3NvY2lvOiB1c2VyLmlzX3NvY2lvLFxuICAgICAgICAgIHRlYW1faWQ6IHVzZXIudGVhbV9pZCxcbiAgICAgICAgICBjcmVhdGVkX2F0OiBuZXcgRGF0ZSh1c2VyLmNyZWF0ZWRfYXQpXG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBpZDogY3JlYXRlZC5pZCxcbiAgICAgICAgbmFtZTogY3JlYXRlZC5uYW1lLFxuICAgICAgICBlbWFpbDogY3JlYXRlZC5lbWFpbCA/PyB1bmRlZmluZWQsXG4gICAgICAgIHBob25lOiBjcmVhdGVkLnBob25lID8/IHVuZGVmaW5lZCxcbiAgICAgICAgcGFzc3dvcmRfaGFzaDogY3JlYXRlZC5wYXNzd29yZF9oYXNoID8/IHVuZGVmaW5lZCxcbiAgICAgICAgcm9sZTogY3JlYXRlZC5yb2xlLFxuICAgICAgICBpc19zb2NpbzogY3JlYXRlZC5pc19zb2NpbyxcbiAgICAgICAgdGVhbV9pZDogY3JlYXRlZC50ZWFtX2lkLFxuICAgICAgICBjcmVhdGVkX2F0OiBjcmVhdGVkLmNyZWF0ZWRfYXQudG9JU09TdHJpbmcoKVxuICAgICAgfTtcbiAgICB9LFxuXG4gICAgdXBkYXRlOiBhc3luYyAodXNlcklkOiBzdHJpbmcsIHVwZGF0ZXM6IFBhcnRpYWw8QXV0aFVzZXI+KTogUHJvbWlzZTxBdXRoVXNlciB8IG51bGw+ID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHVwZGF0ZWQgPSBhd2FpdCBwcmlzbWEudXNlci51cGRhdGUoe1xuICAgICAgICAgIHdoZXJlOiB7IGlkOiB1c2VySWQgfSxcbiAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICBuYW1lOiB1cGRhdGVzLm5hbWUsXG4gICAgICAgICAgICBlbWFpbDogdXBkYXRlcy5lbWFpbCA/PyBudWxsLFxuICAgICAgICAgICAgcGhvbmU6IHVwZGF0ZXMucGhvbmUgPz8gbnVsbCxcbiAgICAgICAgICAgIHBhc3N3b3JkX2hhc2g6IHVwZGF0ZXMucGFzc3dvcmRfaGFzaCA/PyBudWxsLFxuICAgICAgICAgICAgcm9sZTogdXBkYXRlcy5yb2xlLFxuICAgICAgICAgICAgaXNfc29jaW86IHVwZGF0ZXMuaXNfc29jaW8sXG4gICAgICAgICAgICB0ZWFtX2lkOiB1cGRhdGVzLnRlYW1faWQsXG4gICAgICAgICAgICBjcmVhdGVkX2F0OiB1cGRhdGVzLmNyZWF0ZWRfYXQgPyBuZXcgRGF0ZSh1cGRhdGVzLmNyZWF0ZWRfYXQpIDogdW5kZWZpbmVkXG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGlkOiB1cGRhdGVkLmlkLFxuICAgICAgICAgIG5hbWU6IHVwZGF0ZWQubmFtZSxcbiAgICAgICAgICBlbWFpbDogdXBkYXRlZC5lbWFpbCA/PyB1bmRlZmluZWQsXG4gICAgICAgICAgcGhvbmU6IHVwZGF0ZWQucGhvbmUgPz8gdW5kZWZpbmVkLFxuICAgICAgICAgIHBhc3N3b3JkX2hhc2g6IHVwZGF0ZWQucGFzc3dvcmRfaGFzaCA/PyB1bmRlZmluZWQsXG4gICAgICAgICAgcm9sZTogdXBkYXRlZC5yb2xlLFxuICAgICAgICAgIGlzX3NvY2lvOiB1cGRhdGVkLmlzX3NvY2lvLFxuICAgICAgICAgIHRlYW1faWQ6IHVwZGF0ZWQudGVhbV9pZCxcbiAgICAgICAgICBjcmVhdGVkX2F0OiB1cGRhdGVkLmNyZWF0ZWRfYXQudG9JU09TdHJpbmcoKVxuICAgICAgICB9O1xuICAgICAgfSBjYXRjaCB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgIH1cbiAgfSxcblxuICByb2xlczoge1xuICAgIGdldFBlcm1pc3Npb25zOiAocm9sZU5hbWU6IHN0cmluZyk6IFBlcm1pc3Npb25LZXlbXSA9PiB7XG4gICAgICBjb25zdCBtYXBwZWRSb2xlID0gUk9MRV9NQVBQSU5HW3JvbGVOYW1lXSB8fCByb2xlTmFtZTtcbiAgICAgIHJldHVybiBST0xFU19DT05GSUdbbWFwcGVkUm9sZV0gfHwgUk9MRVNfQ09ORklHWyd0b3JjZWRvciddO1xuICAgIH1cbiAgfSxcblxuICBzZXR0aW5nczoge1xuICAgIGdldDogYXN5bmMgKHRlbmFudElkOiBzdHJpbmcgPSAnZ2xvYmFsJyk6IFByb21pc2U8U3lzdGVtU2V0dGluZ3M+ID0+IHtcbiAgICAgIGNvbnN0IHJlY29yZCA9IGF3YWl0IHByaXNtYUFueS5zeXN0ZW1TZXR0aW5ncy5maW5kVW5pcXVlKHtcbiAgICAgICAgd2hlcmU6IHsgaWQ6IHRlbmFudElkIH1cbiAgICAgIH0pO1xuXG4gICAgICBpZiAoIXJlY29yZCkge1xuICAgICAgICBjb25zdCBzZXR0aW5nc1RvUGVyc2lzdDogU3lzdGVtU2V0dGluZ3MgPSB7XG4gICAgICAgICAgLi4uREVGQVVMVF9TRVRUSU5HUyxcbiAgICAgICAgICBpZDogdGVuYW50SWRcbiAgICAgICAgfTtcblxuICAgICAgICBhd2FpdCBwcmlzbWFBbnkuc3lzdGVtU2V0dGluZ3MuY3JlYXRlKHtcbiAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICBpZDogdGVuYW50SWQsXG4gICAgICAgICAgICBkYXRhOiBzZXR0aW5nc1RvUGVyc2lzdFxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHNldHRpbmdzVG9QZXJzaXN0O1xuICAgICAgfVxuXG4gICAgICBjb25zdCBkYXRhID0gcmVjb3JkLmRhdGEgYXMgU3lzdGVtU2V0dGluZ3M7XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLmRhdGEsXG4gICAgICAgIGlkOiByZWNvcmQuaWRcbiAgICAgIH07XG4gICAgfSxcbiAgICBcbiAgICB1cGRhdGU6IGFzeW5jICh0ZW5hbnRJZDogc3RyaW5nLCB1cGRhdGVzOiBQYXJ0aWFsPFN5c3RlbVNldHRpbmdzPiwgdXNlcklkPzogc3RyaW5nLCB1c2VyRW1haWw/OiBzdHJpbmcpOiBQcm9taXNlPFN5c3RlbVNldHRpbmdzPiA9PiB7XG4gICAgICBjb25zdCBleGlzdGluZyA9IGF3YWl0IHByaXNtYUFueS5zeXN0ZW1TZXR0aW5ncy5maW5kVW5pcXVlKHtcbiAgICAgICAgd2hlcmU6IHsgaWQ6IHRlbmFudElkIH1cbiAgICAgIH0pO1xuICAgICAgXG4gICAgICBjb25zdCBjdXJyZW50U2V0dGluZ3M6IFN5c3RlbVNldHRpbmdzID0gZXhpc3RpbmdcbiAgICAgICAgPyB7IC4uLihleGlzdGluZy5kYXRhIGFzIFN5c3RlbVNldHRpbmdzKSwgaWQ6IHRlbmFudElkIH1cbiAgICAgICAgOiB7IC4uLkRFRkFVTFRfU0VUVElOR1MsIGlkOiB0ZW5hbnRJZCB9O1xuXG4gICAgICBjb25zdCBvbGRTZXR0aW5nczogU3lzdGVtU2V0dGluZ3MgPSB7IC4uLmN1cnJlbnRTZXR0aW5ncyB9O1xuICAgICAgXG4gICAgICBjb25zdCBuZXdTZXR0aW5nczogU3lzdGVtU2V0dGluZ3MgPSB7XG4gICAgICAgIC4uLmN1cnJlbnRTZXR0aW5ncyxcbiAgICAgICAgLi4udXBkYXRlcyxcbiAgICAgICAgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcbiAgICAgIH07XG5cbiAgICAgIGF3YWl0IHByaXNtYUFueS5zeXN0ZW1TZXR0aW5ncy51cHNlcnQoe1xuICAgICAgICB3aGVyZTogeyBpZDogdGVuYW50SWQgfSxcbiAgICAgICAgdXBkYXRlOiB7IGRhdGE6IG5ld1NldHRpbmdzIH0sXG4gICAgICAgIGNyZWF0ZTogeyBpZDogdGVuYW50SWQsIGRhdGE6IG5ld1NldHRpbmdzIH1cbiAgICAgIH0pO1xuXG4gICAgICBpZiAodXNlcklkICYmIHVzZXJFbWFpbCkge1xuICAgICAgICBjb25zdCB1cGRhdGVkTW9kdWxlcyA9IE9iamVjdC5rZXlzKHVwZGF0ZXMpIGFzIChrZXlvZiBTeXN0ZW1TZXR0aW5ncylbXTtcblxuICAgICAgICBmb3IgKGNvbnN0IG0gb2YgdXBkYXRlZE1vZHVsZXMpIHtcbiAgICAgICAgICBpZiAobSA9PT0gJ2lkJyB8fCBtID09PSAndXBkYXRlZEF0JykgY29udGludWU7XG5cbiAgICAgICAgICBhd2FpdCBkYi5sb2dzLmNyZWF0ZSh7XG4gICAgICAgICAgICBpZDogY3J5cHRvLnJhbmRvbVVVSUQoKSxcbiAgICAgICAgICAgIHRlbmFudElkLFxuICAgICAgICAgICAgdXNlcklkLFxuICAgICAgICAgICAgdXNlckVtYWlsLFxuICAgICAgICAgICAgbW9kdWxlOiBtIGFzIGFueSxcbiAgICAgICAgICAgIGFjdGlvbjogJ1VQREFURScsXG4gICAgICAgICAgICBvbGRWYWx1ZTogKG9sZFNldHRpbmdzIGFzIGFueSlbbV0sXG4gICAgICAgICAgICBuZXdWYWx1ZTogKG5ld1NldHRpbmdzIGFzIGFueSlbbV0sXG4gICAgICAgICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBuZXdTZXR0aW5ncztcbiAgICB9XG4gIH0sXG5cbiAgbG9nczoge1xuICAgIGZpbmRBbGw6IGFzeW5jICgpOiBQcm9taXNlPFNldHRpbmdzTG9nW10+ID0+IHtcbiAgICAgIGNvbnN0IHJlY29yZHMgPSBhd2FpdCBwcmlzbWFBbnkuc2V0dGluZ3NMb2cuZmluZE1hbnkoe1xuICAgICAgICBvcmRlckJ5OiB7IGNyZWF0ZWRBdDogJ2Rlc2MnIH1cbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gcmVjb3Jkcy5tYXAoKGxvZzogYW55KSA9PiAoe1xuICAgICAgICBpZDogbG9nLmlkLFxuICAgICAgICB0ZW5hbnRJZDogbG9nLnRlbmFudElkLFxuICAgICAgICB1c2VySWQ6IGxvZy51c2VySWQsXG4gICAgICAgIHVzZXJFbWFpbDogbG9nLnVzZXJFbWFpbCxcbiAgICAgICAgbW9kdWxlOiBsb2cubW9kdWxlIGFzIGFueSxcbiAgICAgICAgYWN0aW9uOiBsb2cuYWN0aW9uLFxuICAgICAgICBvbGRWYWx1ZTogbG9nLm9sZFZhbHVlIGFzIGFueSxcbiAgICAgICAgbmV3VmFsdWU6IGxvZy5uZXdWYWx1ZSBhcyBhbnksXG4gICAgICAgIGNyZWF0ZWRBdDogbG9nLmNyZWF0ZWRBdC50b0lTT1N0cmluZygpXG4gICAgICB9KSk7XG4gICAgfSxcblxuICAgIGNyZWF0ZTogYXN5bmMgKGxvZzogU2V0dGluZ3NMb2cpOiBQcm9taXNlPFNldHRpbmdzTG9nPiA9PiB7XG4gICAgICBhd2FpdCBwcmlzbWFBbnkuc2V0dGluZ3NMb2cuY3JlYXRlKHtcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIGlkOiBsb2cuaWQsXG4gICAgICAgICAgdGVuYW50SWQ6IGxvZy50ZW5hbnRJZCxcbiAgICAgICAgICB1c2VySWQ6IGxvZy51c2VySWQsXG4gICAgICAgICAgdXNlckVtYWlsOiBsb2cudXNlckVtYWlsLFxuICAgICAgICAgIG1vZHVsZTogbG9nLm1vZHVsZSxcbiAgICAgICAgICBhY3Rpb246IGxvZy5hY3Rpb24sXG4gICAgICAgICAgb2xkVmFsdWU6IGxvZy5vbGRWYWx1ZSxcbiAgICAgICAgICBuZXdWYWx1ZTogbG9nLm5ld1ZhbHVlLFxuICAgICAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUobG9nLmNyZWF0ZWRBdClcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBsb2c7XG4gICAgfVxuICB9LFxuXG4gIHNlc3Npb25zOiB7XG4gICAgZmluZEFsbDogYXN5bmMgKCk6IFByb21pc2U8VXNlclNlc3Npb25bXT4gPT4ge1xuICAgICAgY29uc3QgcmVjb3JkcyA9IGF3YWl0IHByaXNtYUFueS51c2VyU2Vzc2lvbi5maW5kTWFueSgpO1xuXG4gICAgICByZXR1cm4gcmVjb3Jkcy5tYXAoKHNlc3Npb246IGFueSkgPT4gKHtcbiAgICAgICAgaWQ6IHNlc3Npb24uaWQsXG4gICAgICAgIHVzZXJJZDogc2Vzc2lvbi51c2VySWQsXG4gICAgICAgIHRva2VuOiBzZXNzaW9uLnRva2VuLFxuICAgICAgICBpcEFkZHJlc3M6IHNlc3Npb24uaXBBZGRyZXNzLFxuICAgICAgICB1c2VyQWdlbnQ6IHNlc3Npb24udXNlckFnZW50LFxuICAgICAgICBjcmVhdGVkQXQ6IHNlc3Npb24uY3JlYXRlZEF0LnRvSVNPU3RyaW5nKCksXG4gICAgICAgIGV4cGlyZXNBdDogc2Vzc2lvbi5leHBpcmVzQXQudG9JU09TdHJpbmcoKSxcbiAgICAgICAgaXNBY3RpdmU6IHNlc3Npb24uaXNBY3RpdmVcbiAgICAgIH0pKTtcbiAgICB9LFxuXG4gICAgY3JlYXRlOiBhc3luYyAoc2Vzc2lvbjogVXNlclNlc3Npb24pOiBQcm9taXNlPFVzZXJTZXNzaW9uPiA9PiB7XG4gICAgICBjb25zdCBjcmVhdGVkID0gYXdhaXQgcHJpc21hQW55LnVzZXJTZXNzaW9uLmNyZWF0ZSh7XG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBpZDogc2Vzc2lvbi5pZCxcbiAgICAgICAgICB1c2VySWQ6IHNlc3Npb24udXNlcklkLFxuICAgICAgICAgIHRva2VuOiBzZXNzaW9uLnRva2VuLFxuICAgICAgICAgIGlwQWRkcmVzczogc2Vzc2lvbi5pcEFkZHJlc3MsXG4gICAgICAgICAgdXNlckFnZW50OiBzZXNzaW9uLnVzZXJBZ2VudCxcbiAgICAgICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKHNlc3Npb24uY3JlYXRlZEF0KSxcbiAgICAgICAgICBleHBpcmVzQXQ6IG5ldyBEYXRlKHNlc3Npb24uZXhwaXJlc0F0KSxcbiAgICAgICAgICBpc0FjdGl2ZTogc2Vzc2lvbi5pc0FjdGl2ZVxuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaWQ6IGNyZWF0ZWQuaWQsXG4gICAgICAgIHVzZXJJZDogY3JlYXRlZC51c2VySWQsXG4gICAgICAgIHRva2VuOiBjcmVhdGVkLnRva2VuLFxuICAgICAgICBpcEFkZHJlc3M6IGNyZWF0ZWQuaXBBZGRyZXNzLFxuICAgICAgICB1c2VyQWdlbnQ6IGNyZWF0ZWQudXNlckFnZW50LFxuICAgICAgICBjcmVhdGVkQXQ6IGNyZWF0ZWQuY3JlYXRlZEF0LnRvSVNPU3RyaW5nKCksXG4gICAgICAgIGV4cGlyZXNBdDogY3JlYXRlZC5leHBpcmVzQXQudG9JU09TdHJpbmcoKSxcbiAgICAgICAgaXNBY3RpdmU6IGNyZWF0ZWQuaXNBY3RpdmVcbiAgICAgIH07XG4gICAgfSxcblxuICAgIGtpbGw6IGFzeW5jIChzZXNzaW9uSWQ6IHN0cmluZyk6IFByb21pc2U8dm9pZD4gPT4ge1xuICAgICAgYXdhaXQgcHJpc21hQW55LnVzZXJTZXNzaW9uLnVwZGF0ZU1hbnkoe1xuICAgICAgICB3aGVyZTogeyBpZDogc2Vzc2lvbklkIH0sXG4gICAgICAgIGRhdGE6IHsgaXNBY3RpdmU6IGZhbHNlIH1cbiAgICAgIH0pO1xuICAgIH0sXG5cbiAgICBraWxsQWxsOiBhc3luYyAoKTogUHJvbWlzZTx2b2lkPiA9PiB7XG4gICAgICBhd2FpdCBwcmlzbWFBbnkudXNlclNlc3Npb24udXBkYXRlTWFueSh7XG4gICAgICAgIGRhdGE6IHsgaXNBY3RpdmU6IGZhbHNlIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfSxcblxuICBjb25zZW50czoge1xuICAgIGZpbmRBbGw6IGFzeW5jICgpOiBQcm9taXNlPFByaXZhY3lDb25zZW50W10+ID0+IHtcbiAgICAgIGNvbnN0IHJlY29yZHMgPSBhd2FpdCBwcmlzbWFBbnkucHJpdmFjeUNvbnNlbnQuZmluZE1hbnkoKTtcblxuICAgICAgcmV0dXJuIHJlY29yZHMubWFwKChjb25zZW50OiBhbnkpID0+ICh7XG4gICAgICAgIGlkOiBjb25zZW50LmlkLFxuICAgICAgICB1c2VySWQ6IGNvbnNlbnQudXNlcklkLFxuICAgICAgICBjb25zZW50VHlwZTogY29uc2VudC5jb25zZW50VHlwZSBhcyBhbnksXG4gICAgICAgIGFjY2VwdGVkOiBjb25zZW50LmFjY2VwdGVkLFxuICAgICAgICBhY2NlcHRlZEF0OiBjb25zZW50LmFjY2VwdGVkQXQudG9JU09TdHJpbmcoKSxcbiAgICAgICAgaXBBZGRyZXNzOiBjb25zZW50LmlwQWRkcmVzc1xuICAgICAgfSkpO1xuICAgIH0sXG5cbiAgICBjcmVhdGU6IGFzeW5jIChjb25zZW50OiBQcml2YWN5Q29uc2VudCk6IFByb21pc2U8UHJpdmFjeUNvbnNlbnQ+ID0+IHtcbiAgICAgIGNvbnN0IGNyZWF0ZWQgPSBhd2FpdCBwcmlzbWFBbnkucHJpdmFjeUNvbnNlbnQuY3JlYXRlKHtcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIGlkOiBjb25zZW50LmlkLFxuICAgICAgICAgIHVzZXJJZDogY29uc2VudC51c2VySWQsXG4gICAgICAgICAgY29uc2VudFR5cGU6IGNvbnNlbnQuY29uc2VudFR5cGUsXG4gICAgICAgICAgYWNjZXB0ZWQ6IGNvbnNlbnQuYWNjZXB0ZWQsXG4gICAgICAgICAgYWNjZXB0ZWRBdDogbmV3IERhdGUoY29uc2VudC5hY2NlcHRlZEF0KSxcbiAgICAgICAgICBpcEFkZHJlc3M6IGNvbnNlbnQuaXBBZGRyZXNzXG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBpZDogY3JlYXRlZC5pZCxcbiAgICAgICAgdXNlcklkOiBjcmVhdGVkLnVzZXJJZCxcbiAgICAgICAgY29uc2VudFR5cGU6IGNyZWF0ZWQuY29uc2VudFR5cGUgYXMgYW55LFxuICAgICAgICBhY2NlcHRlZDogY3JlYXRlZC5hY2NlcHRlZCxcbiAgICAgICAgYWNjZXB0ZWRBdDogY3JlYXRlZC5hY2NlcHRlZEF0LnRvSVNPU3RyaW5nKCksXG4gICAgICAgIGlwQWRkcmVzczogY3JlYXRlZC5pcEFkZHJlc3NcbiAgICAgIH07XG4gICAgfVxuICB9LFxuXG4gIG90cDoge1xuICAgIGZpbmRBbGw6IGFzeW5jICgpOiBQcm9taXNlPE9UUFtdPiA9PiB7XG4gICAgICBjb25zdCByZWNvcmRzID0gYXdhaXQgcHJpc21hQW55Lm90cC5maW5kTWFueSgpO1xuXG4gICAgICByZXR1cm4gcmVjb3Jkcy5tYXAoKG90cDogYW55KSA9PiAoe1xuICAgICAgICBpZDogb3RwLmlkLFxuICAgICAgICBwaG9uZTogb3RwLnBob25lLFxuICAgICAgICBjb2RlOiBvdHAuY29kZSxcbiAgICAgICAgZXhwaXJlc19hdDogb3RwLmV4cGlyZXNfYXQudG9JU09TdHJpbmcoKSxcbiAgICAgICAgdmVyaWZpZWQ6IG90cC52ZXJpZmllZFxuICAgICAgfSkpO1xuICAgIH0sXG5cbiAgICBjcmVhdGU6IGFzeW5jIChvdHA6IE9UUCk6IFByb21pc2U8T1RQPiA9PiB7XG4gICAgICBhd2FpdCBwcmlzbWFBbnkub3RwLmRlbGV0ZU1hbnkoe1xuICAgICAgICB3aGVyZTogeyBwaG9uZTogb3RwLnBob25lIH1cbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBjcmVhdGVkID0gYXdhaXQgcHJpc21hQW55Lm90cC5jcmVhdGUoe1xuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgaWQ6IG90cC5pZCxcbiAgICAgICAgICBwaG9uZTogb3RwLnBob25lLFxuICAgICAgICAgIGNvZGU6IG90cC5jb2RlLFxuICAgICAgICAgIGV4cGlyZXNfYXQ6IG5ldyBEYXRlKG90cC5leHBpcmVzX2F0KSxcbiAgICAgICAgICB2ZXJpZmllZDogb3RwLnZlcmlmaWVkXG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBpZDogY3JlYXRlZC5pZCxcbiAgICAgICAgcGhvbmU6IGNyZWF0ZWQucGhvbmUsXG4gICAgICAgIGNvZGU6IGNyZWF0ZWQuY29kZSxcbiAgICAgICAgZXhwaXJlc19hdDogY3JlYXRlZC5leHBpcmVzX2F0LnRvSVNPU3RyaW5nKCksXG4gICAgICAgIHZlcmlmaWVkOiBjcmVhdGVkLnZlcmlmaWVkXG4gICAgICB9O1xuICAgIH0sXG5cbiAgICBmaW5kVmFsaWQ6IGFzeW5jIChwaG9uZTogc3RyaW5nLCBjb2RlOiBzdHJpbmcpOiBQcm9taXNlPE9UUCB8IHVuZGVmaW5lZD4gPT4ge1xuICAgICAgY29uc3QgcmVjb3JkID0gYXdhaXQgcHJpc21hQW55Lm90cC5maW5kRmlyc3Qoe1xuICAgICAgICB3aGVyZToge1xuICAgICAgICAgIHBob25lLFxuICAgICAgICAgIGNvZGUsXG4gICAgICAgICAgdmVyaWZpZWQ6IGZhbHNlLFxuICAgICAgICAgIGV4cGlyZXNfYXQ6IHsgZ3Q6IG5ldyBEYXRlKCkgfVxuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgaWYgKCFyZWNvcmQpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaWQ6IHJlY29yZC5pZCxcbiAgICAgICAgcGhvbmU6IHJlY29yZC5waG9uZSxcbiAgICAgICAgY29kZTogcmVjb3JkLmNvZGUsXG4gICAgICAgIGV4cGlyZXNfYXQ6IHJlY29yZC5leHBpcmVzX2F0LnRvSVNPU3RyaW5nKCksXG4gICAgICAgIHZlcmlmaWVkOiByZWNvcmQudmVyaWZpZWRcbiAgICAgIH07XG4gICAgfSxcblxuICAgIG1hcmtWZXJpZmllZDogYXN5bmMgKGlkOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+ID0+IHtcbiAgICAgIGF3YWl0IHByaXNtYUFueS5vdHAudXBkYXRlTWFueSh7XG4gICAgICAgIHdoZXJlOiB7IGlkIH0sXG4gICAgICAgIGRhdGE6IHsgdmVyaWZpZWQ6IHRydWUgfVxuICAgICAgfSk7XG4gICAgfVxuICB9LFxuXG4gIHBhc3N3b3JkUmVzZXRzOiB7XG4gICAgZmluZEFsbDogYXN5bmMgKCk6IFByb21pc2U8UGFzc3dvcmRSZXNldFR5cGVbXT4gPT4ge1xuICAgICAgY29uc3QgcmVzZXRzID0gYXdhaXQgcHJpc21hLnBhc3N3b3JkUmVzZXQuZmluZE1hbnkoKTtcbiAgICAgIHJldHVybiByZXNldHMubWFwKHIgPT4gKHtcbiAgICAgICAgaWQ6IHIuaWQsXG4gICAgICAgIHVzZXJJZDogci51c2VySWQsXG4gICAgICAgIGNoYW5uZWw6IHIuY2hhbm5lbCBhcyBhbnksXG4gICAgICAgIGNvbnRhY3Q6IHIuY29udGFjdCxcbiAgICAgICAgZXhwaXJlc19hdDogci5leHBpcmVzX2F0LnRvSVNPU3RyaW5nKCksXG4gICAgICAgIHVzZWQ6IHIudXNlZFxuICAgICAgfSkpO1xuICAgIH0sXG5cbiAgICBjcmVhdGU6IGFzeW5jIChyZXNldDogUGFzc3dvcmRSZXNldFR5cGUpOiBQcm9taXNlPFBhc3N3b3JkUmVzZXRUeXBlPiA9PiB7XG4gICAgICBhd2FpdCBwcmlzbWEucGFzc3dvcmRSZXNldC5kZWxldGVNYW55KHtcbiAgICAgICAgd2hlcmU6IHtcbiAgICAgICAgICB1c2VySWQ6IHJlc2V0LnVzZXJJZCxcbiAgICAgICAgICBjaGFubmVsOiByZXNldC5jaGFubmVsXG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBjcmVhdGVkID0gYXdhaXQgcHJpc21hLnBhc3N3b3JkUmVzZXQuY3JlYXRlKHtcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIGlkOiByZXNldC5pZCxcbiAgICAgICAgICB1c2VySWQ6IHJlc2V0LnVzZXJJZCxcbiAgICAgICAgICBjaGFubmVsOiByZXNldC5jaGFubmVsLFxuICAgICAgICAgIGNvbnRhY3Q6IHJlc2V0LmNvbnRhY3QsXG4gICAgICAgICAgZXhwaXJlc19hdDogbmV3IERhdGUocmVzZXQuZXhwaXJlc19hdCksXG4gICAgICAgICAgdXNlZDogcmVzZXQudXNlZFxuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaWQ6IGNyZWF0ZWQuaWQsXG4gICAgICAgIHVzZXJJZDogY3JlYXRlZC51c2VySWQsXG4gICAgICAgIGNoYW5uZWw6IGNyZWF0ZWQuY2hhbm5lbCBhcyBhbnksXG4gICAgICAgIGNvbnRhY3Q6IGNyZWF0ZWQuY29udGFjdCxcbiAgICAgICAgZXhwaXJlc19hdDogY3JlYXRlZC5leHBpcmVzX2F0LnRvSVNPU3RyaW5nKCksXG4gICAgICAgIHVzZWQ6IGNyZWF0ZWQudXNlZFxuICAgICAgfTtcbiAgICB9LFxuXG4gICAgZmluZFZhbGlkOiBhc3luYyAodG9rZW46IHN0cmluZyk6IFByb21pc2U8UGFzc3dvcmRSZXNldFR5cGUgfCB1bmRlZmluZWQ+ID0+IHtcbiAgICAgIGNvbnN0IHJlc2V0ID0gYXdhaXQgcHJpc21hLnBhc3N3b3JkUmVzZXQuZmluZEZpcnN0KHtcbiAgICAgICAgd2hlcmU6IHtcbiAgICAgICAgICBpZDogdG9rZW4sXG4gICAgICAgICAgdXNlZDogZmFsc2UsXG4gICAgICAgICAgZXhwaXJlc19hdDogeyBndDogbmV3IERhdGUoKSB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBpZiAoIXJlc2V0KSByZXR1cm4gdW5kZWZpbmVkO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBpZDogcmVzZXQuaWQsXG4gICAgICAgIHVzZXJJZDogcmVzZXQudXNlcklkLFxuICAgICAgICBjaGFubmVsOiByZXNldC5jaGFubmVsIGFzIGFueSxcbiAgICAgICAgY29udGFjdDogcmVzZXQuY29udGFjdCxcbiAgICAgICAgZXhwaXJlc19hdDogcmVzZXQuZXhwaXJlc19hdC50b0lTT1N0cmluZygpLFxuICAgICAgICB1c2VkOiByZXNldC51c2VkXG4gICAgICB9O1xuICAgIH0sXG5cbiAgICBtYXJrVXNlZDogYXN5bmMgKHRva2VuOiBzdHJpbmcpID0+IHtcbiAgICAgIGF3YWl0IHByaXNtYS5wYXNzd29yZFJlc2V0LnVwZGF0ZU1hbnkoe1xuICAgICAgICB3aGVyZTogeyBpZDogdG9rZW4gfSxcbiAgICAgICAgZGF0YTogeyB1c2VkOiB0cnVlIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxufTtcbiJdLCJuYW1lcyI6WyJmcyIsInBhdGgiLCJERUZBVUxUX1NFVFRJTkdTIiwicHJpc21hIiwiREFUQV9ESVIiLCJqb2luIiwicHJvY2VzcyIsImN3ZCIsIlJPTEVTX0NPTkZJRyIsIlJPTEVfTUFQUElORyIsImV4aXN0c1N5bmMiLCJta2RpclN5bmMiLCJwcmlzbWFBbnkiLCJkYiIsInVzZXJzIiwiZmluZEFsbCIsInVzZXIiLCJmaW5kTWFueSIsIm1hcCIsInUiLCJpZCIsIm5hbWUiLCJlbWFpbCIsInVuZGVmaW5lZCIsInBob25lIiwicGFzc3dvcmRfaGFzaCIsInJvbGUiLCJpc19zb2NpbyIsInRlYW1faWQiLCJjcmVhdGVkX2F0IiwidG9JU09TdHJpbmciLCJmaW5kQnlFbWFpbCIsImZpbmRVbmlxdWUiLCJ3aGVyZSIsImZpbmRCeVBob25lIiwiY3JlYXRlIiwiY3JlYXRlZCIsImRhdGEiLCJEYXRlIiwidXBkYXRlIiwidXNlcklkIiwidXBkYXRlcyIsInVwZGF0ZWQiLCJyb2xlcyIsImdldFBlcm1pc3Npb25zIiwicm9sZU5hbWUiLCJtYXBwZWRSb2xlIiwic2V0dGluZ3MiLCJnZXQiLCJ0ZW5hbnRJZCIsInJlY29yZCIsInN5c3RlbVNldHRpbmdzIiwic2V0dGluZ3NUb1BlcnNpc3QiLCJ1c2VyRW1haWwiLCJleGlzdGluZyIsImN1cnJlbnRTZXR0aW5ncyIsIm9sZFNldHRpbmdzIiwibmV3U2V0dGluZ3MiLCJ1cGRhdGVkQXQiLCJ1cHNlcnQiLCJ1cGRhdGVkTW9kdWxlcyIsIk9iamVjdCIsImtleXMiLCJtIiwibG9ncyIsImNyeXB0byIsInJhbmRvbVVVSUQiLCJtb2R1bGUiLCJhY3Rpb24iLCJvbGRWYWx1ZSIsIm5ld1ZhbHVlIiwiY3JlYXRlZEF0IiwicmVjb3JkcyIsInNldHRpbmdzTG9nIiwib3JkZXJCeSIsImxvZyIsInNlc3Npb25zIiwidXNlclNlc3Npb24iLCJzZXNzaW9uIiwidG9rZW4iLCJpcEFkZHJlc3MiLCJ1c2VyQWdlbnQiLCJleHBpcmVzQXQiLCJpc0FjdGl2ZSIsImtpbGwiLCJzZXNzaW9uSWQiLCJ1cGRhdGVNYW55Iiwia2lsbEFsbCIsImNvbnNlbnRzIiwicHJpdmFjeUNvbnNlbnQiLCJjb25zZW50IiwiY29uc2VudFR5cGUiLCJhY2NlcHRlZCIsImFjY2VwdGVkQXQiLCJvdHAiLCJjb2RlIiwiZXhwaXJlc19hdCIsInZlcmlmaWVkIiwiZGVsZXRlTWFueSIsImZpbmRWYWxpZCIsImZpbmRGaXJzdCIsImd0IiwibWFya1ZlcmlmaWVkIiwicGFzc3dvcmRSZXNldHMiLCJyZXNldHMiLCJwYXNzd29yZFJlc2V0IiwiciIsImNoYW5uZWwiLCJjb250YWN0IiwidXNlZCIsInJlc2V0IiwibWFya1VzZWQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/db.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/prisma.ts":
/*!***************************!*\
  !*** ./src/lib/prisma.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @prisma/client */ \"@prisma/client\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_prisma_client__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _prisma_adapter_better_sqlite3__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @prisma/adapter-better-sqlite3 */ \"(rsc)/./node_modules/@prisma/adapter-better-sqlite3/dist/index.mjs\");\n\n\nconst adapter = new _prisma_adapter_better_sqlite3__WEBPACK_IMPORTED_MODULE_1__.PrismaBetterSqlite3({\n    url: process.env.DATABASE_URL || \"file:./dev.db\"\n});\nconst prisma = new _prisma_client__WEBPACK_IMPORTED_MODULE_0__.PrismaClient({\n    adapter\n});\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (prisma);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL3ByaXNtYS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQThDO0FBQ3VCO0FBRXJFLE1BQU1FLFVBQVUsSUFBSUQsK0VBQW1CQSxDQUFDO0lBQ3RDRSxLQUFLQyxRQUFRQyxHQUFHLENBQUNDLFlBQVksSUFBSTtBQUNuQztBQUVBLE1BQU1DLFNBQVMsSUFBSVAsd0RBQVlBLENBQUM7SUFBRUU7QUFBUTtBQUUxQyxpRUFBZUssTUFBTUEsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL21ldXRpbWUtZmMvLi9zcmMvbGliL3ByaXNtYS50cz8wMWQ3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFByaXNtYUNsaWVudCB9IGZyb20gJ0BwcmlzbWEvY2xpZW50JztcbmltcG9ydCB7IFByaXNtYUJldHRlclNxbGl0ZTMgfSBmcm9tICdAcHJpc21hL2FkYXB0ZXItYmV0dGVyLXNxbGl0ZTMnO1xuXG5jb25zdCBhZGFwdGVyID0gbmV3IFByaXNtYUJldHRlclNxbGl0ZTMoe1xuICB1cmw6IHByb2Nlc3MuZW52LkRBVEFCQVNFX1VSTCB8fCAnZmlsZTouL2Rldi5kYidcbn0pO1xuXG5jb25zdCBwcmlzbWEgPSBuZXcgUHJpc21hQ2xpZW50KHsgYWRhcHRlciB9KTtcblxuZXhwb3J0IGRlZmF1bHQgcHJpc21hO1xuXG4iXSwibmFtZXMiOlsiUHJpc21hQ2xpZW50IiwiUHJpc21hQmV0dGVyU3FsaXRlMyIsImFkYXB0ZXIiLCJ1cmwiLCJwcm9jZXNzIiwiZW52IiwiREFUQUJBU0VfVVJMIiwicHJpc21hIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/prisma.ts\n");

/***/ }),

/***/ "(rsc)/./src/types/settings.ts":
/*!*******************************!*\
  !*** ./src/types/settings.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DEFAULT_SETTINGS: () => (/* binding */ DEFAULT_SETTINGS)\n/* harmony export */ });\nconst DEFAULT_SETTINGS = {\n    id: \"global\",\n    updatedAt: new Date().toISOString(),\n    updatedBy: \"system\",\n    general: {\n        teamName: \"Meu Time FC\",\n        logoUrl: \"/logo.png\",\n        primaryColor: \"#0F5132\",\n        secondaryColor: \"#2ECC71\",\n        language: \"pt-BR\",\n        timezone: \"America/Sao_Paulo\"\n    },\n    security: {\n        passwordPolicy: {\n            minLength: 8,\n            requireNumbers: true,\n            requireSymbols: false\n        },\n        loginMethods: {\n            whatsapp: true,\n            email: true,\n            google: false\n        },\n        sessionTimeoutMinutes: 60\n    },\n    lgpd: {\n        privacyPolicy: \"# Pol\\xedtica de Privacidade\\n\\n...\",\n        dataRetentionMonths: 12,\n        cookieConsentRequired: true,\n        dpoEmail: \"dpo@meutimefc.com\"\n    },\n    payments: {\n        pixEnabled: true,\n        creditCardEnabled: true,\n        gateway: \"mercadopago\",\n        activePlan: \"free\"\n    },\n    store: {\n        enabled: true,\n        defaultProfitMargin: 30,\n        minStockAlert: 5,\n        shippingFlatRate: 15.00,\n        oneClickCheckout: true\n    },\n    leagues: {\n        currentSeason: \"2026\",\n        defaultPointsWin: 3,\n        defaultPointsDraw: 1,\n        maxTeamsPerLeague: 20\n    },\n    broadcast: {\n        enabled: false,\n        platform: \"youtube\",\n        streamDelaySeconds: 0,\n        monetizationEnabled: false\n    },\n    notifications: {\n        whatsappEnabled: true,\n        emailEnabled: true,\n        pushEnabled: true\n    },\n    integrations: {\n        webhooks: [],\n        apiKeys: []\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvdHlwZXMvc2V0dGluZ3MudHMiLCJtYXBwaW5ncyI6Ijs7OztBQThJTyxNQUFNQSxtQkFBbUM7SUFDOUNDLElBQUk7SUFDSkMsV0FBVyxJQUFJQyxPQUFPQyxXQUFXO0lBQ2pDQyxXQUFXO0lBQ1hDLFNBQVM7UUFDUEMsVUFBVTtRQUNWQyxTQUFTO1FBQ1RDLGNBQWM7UUFDZEMsZ0JBQWdCO1FBQ2hCQyxVQUFVO1FBQ1ZDLFVBQVU7SUFDWjtJQUNBQyxVQUFVO1FBQ1JDLGdCQUFnQjtZQUFFQyxXQUFXO1lBQUdDLGdCQUFnQjtZQUFNQyxnQkFBZ0I7UUFBTTtRQUM1RUMsY0FBYztZQUFFQyxVQUFVO1lBQU1DLE9BQU87WUFBTUMsUUFBUTtRQUFNO1FBQzNEQyx1QkFBdUI7SUFDekI7SUFDQUMsTUFBTTtRQUNKQyxlQUFlO1FBQ2ZDLHFCQUFxQjtRQUNyQkMsdUJBQXVCO1FBQ3ZCQyxVQUFVO0lBQ1o7SUFDQUMsVUFBVTtRQUNSQyxZQUFZO1FBQ1pDLG1CQUFtQjtRQUNuQkMsU0FBUztRQUNUQyxZQUFZO0lBQ2Q7SUFDQUMsT0FBTztRQUNMQyxTQUFTO1FBQ1RDLHFCQUFxQjtRQUNyQkMsZUFBZTtRQUNmQyxrQkFBa0I7UUFDbEJDLGtCQUFrQjtJQUNwQjtJQUNBQyxTQUFTO1FBQ1BDLGVBQWU7UUFDZkMsa0JBQWtCO1FBQ2xCQyxtQkFBbUI7UUFDbkJDLG1CQUFtQjtJQUNyQjtJQUNBQyxXQUFXO1FBQ1RWLFNBQVM7UUFDVFcsVUFBVTtRQUNWQyxvQkFBb0I7UUFDcEJDLHFCQUFxQjtJQUN2QjtJQUNBQyxlQUFlO1FBQ2JDLGlCQUFpQjtRQUNqQkMsY0FBYztRQUNkQyxhQUFhO0lBQ2Y7SUFDQUMsY0FBYztRQUNaQyxVQUFVLEVBQUU7UUFDWkMsU0FBUyxFQUFFO0lBQ2I7QUFDRixFQUFFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWV1dGltZS1mYy8uL3NyYy90eXBlcy9zZXR0aW5ncy50cz8zMjc0Il0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCB0eXBlIFNldHRpbmdzTW9kdWxlID0gXG4gIHwgJ2dlbmVyYWwnIFxuICB8ICd1c2VycycgXG4gIHwgJ3NlY3VyaXR5JyBcbiAgfCAnbGdwZCcgXG4gIHwgJ3BheW1lbnRzJyBcbiAgfCAnc3RvcmUnIFxuICB8ICdsZWFndWVzJyBcbiAgfCAnYnJvYWRjYXN0JyBcbiAgfCAnbm90aWZpY2F0aW9ucycgXG4gIHwgJ2ludGVncmF0aW9ucyc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgR2VuZXJhbFNldHRpbmdzIHtcbiAgdGVhbU5hbWU6IHN0cmluZztcbiAgbG9nb1VybDogc3RyaW5nO1xuICBwcmltYXJ5Q29sb3I6IHN0cmluZztcbiAgc2Vjb25kYXJ5Q29sb3I6IHN0cmluZztcbiAgbGFuZ3VhZ2U6ICdwdC1CUicgfCAnZW4tVVMnIHwgJ2VzJztcbiAgdGltZXpvbmU6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTZWN1cml0eVNldHRpbmdzIHtcbiAgcGFzc3dvcmRQb2xpY3k6IHtcbiAgICBtaW5MZW5ndGg6IG51bWJlcjtcbiAgICByZXF1aXJlTnVtYmVyczogYm9vbGVhbjtcbiAgICByZXF1aXJlU3ltYm9sczogYm9vbGVhbjtcbiAgfTtcbiAgbG9naW5NZXRob2RzOiB7XG4gICAgd2hhdHNhcHA6IGJvb2xlYW47XG4gICAgZW1haWw6IGJvb2xlYW47XG4gICAgZ29vZ2xlOiBib29sZWFuO1xuICB9O1xuICBzZXNzaW9uVGltZW91dE1pbnV0ZXM6IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBMR1BEU2V0dGluZ3Mge1xuICBwcml2YWN5UG9saWN5OiBzdHJpbmc7IC8vIE1hcmtkb3duIGNvbnRlbnRcbiAgZGF0YVJldGVudGlvbk1vbnRoczogbnVtYmVyO1xuICBjb29raWVDb25zZW50UmVxdWlyZWQ6IGJvb2xlYW47XG4gIGRwb0VtYWlsOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUGF5bWVudFNldHRpbmdzIHtcbiAgcGl4RW5hYmxlZDogYm9vbGVhbjtcbiAgY3JlZGl0Q2FyZEVuYWJsZWQ6IGJvb2xlYW47XG4gIGdhdGV3YXk6ICdtZXJjYWRvcGFnbycgfCAnc3RyaXBlJyB8ICdwYWdhcm1lJztcbiAgYWN0aXZlUGxhbjogJ2ZyZWUnIHwgJ3BybycgfCAnZW50ZXJwcmlzZSc7XG4gIHdlYmhvb2tVcmw/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3RvcmVTZXR0aW5ncyB7XG4gIGVuYWJsZWQ6IGJvb2xlYW47XG4gIGRlZmF1bHRQcm9maXRNYXJnaW46IG51bWJlcjtcbiAgbWluU3RvY2tBbGVydDogbnVtYmVyO1xuICBzaGlwcGluZ0ZsYXRSYXRlOiBudW1iZXI7XG4gIG9uZUNsaWNrQ2hlY2tvdXQ6IGJvb2xlYW47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTGVhZ3VlU2V0dGluZ3Mge1xuICBjdXJyZW50U2Vhc29uOiBzdHJpbmc7XG4gIGRlZmF1bHRQb2ludHNXaW46IG51bWJlcjtcbiAgZGVmYXVsdFBvaW50c0RyYXc6IG51bWJlcjtcbiAgbWF4VGVhbXNQZXJMZWFndWU6IG51bWJlcjtcbiAgcmVndWxhdGlvblVybD86IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcm9hZGNhc3RTZXR0aW5ncyB7XG4gIGVuYWJsZWQ6IGJvb2xlYW47XG4gIHBsYXRmb3JtOiAneW91dHViZScgfCAndHdpdGNoJyB8ICdydG1wJztcbiAgc3RyZWFtRGVsYXlTZWNvbmRzOiBudW1iZXI7XG4gIG1vbmV0aXphdGlvbkVuYWJsZWQ6IGJvb2xlYW47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTm90aWZpY2F0aW9uU2V0dGluZ3Mge1xuICB3aGF0c2FwcEVuYWJsZWQ6IGJvb2xlYW47XG4gIGVtYWlsRW5hYmxlZDogYm9vbGVhbjtcbiAgcHVzaEVuYWJsZWQ6IGJvb2xlYW47XG4gIHdlbGNvbWVUZW1wbGF0ZUlkPzogc3RyaW5nO1xuICBtYXRjaFJlbWluZGVyVGVtcGxhdGVJZD86IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJbnRlZ3JhdGlvblNldHRpbmdzIHtcbiAgd2ViaG9va3M6IHtcbiAgICB1cmw6IHN0cmluZztcbiAgICBldmVudHM6IHN0cmluZ1tdO1xuICAgIGFjdGl2ZTogYm9vbGVhbjtcbiAgfVtdO1xuICBhcGlLZXlzOiB7XG4gICAgaWQ6IHN0cmluZztcbiAgICBuYW1lOiBzdHJpbmc7XG4gICAga2V5OiBzdHJpbmc7IC8vIG1hc2tlZFxuICAgIGNyZWF0ZWRBdDogc3RyaW5nO1xuICB9W107XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU2V0dGluZ3NMb2cge1xuICBpZDogc3RyaW5nO1xuICB0ZW5hbnRJZDogc3RyaW5nO1xuICB1c2VySWQ6IHN0cmluZztcbiAgdXNlckVtYWlsOiBzdHJpbmc7IC8vIERlbm9ybWFsaXplZCBmb3IgZGlzcGxheVxuICBtb2R1bGU6IFNldHRpbmdzTW9kdWxlO1xuICBhY3Rpb246IHN0cmluZztcbiAgb2xkVmFsdWU/OiBhbnk7XG4gIG5ld1ZhbHVlPzogYW55O1xuICBjcmVhdGVkQXQ6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBVc2VyU2Vzc2lvbiB7XG4gIGlkOiBzdHJpbmc7XG4gIHVzZXJJZDogc3RyaW5nO1xuICB0b2tlbjogc3RyaW5nO1xuICBpcEFkZHJlc3M6IHN0cmluZztcbiAgdXNlckFnZW50OiBzdHJpbmc7XG4gIGNyZWF0ZWRBdDogc3RyaW5nO1xuICBleHBpcmVzQXQ6IHN0cmluZztcbiAgaXNBY3RpdmU6IGJvb2xlYW47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUHJpdmFjeUNvbnNlbnQge1xuICBpZDogc3RyaW5nO1xuICB1c2VySWQ6IHN0cmluZztcbiAgY29uc2VudFR5cGU6ICdwcml2YWN5X3BvbGljeScgfCAnY29va2llX3VzYWdlJyB8ICdtYXJrZXRpbmcnO1xuICBhY2NlcHRlZDogYm9vbGVhbjtcbiAgYWNjZXB0ZWRBdDogc3RyaW5nO1xuICBpcEFkZHJlc3M6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTeXN0ZW1TZXR0aW5ncyB7XG4gIGlkOiBzdHJpbmc7IC8vIHVzdWFsbHkgdGVuYW50SWQgb3IgJ2dsb2JhbCdcbiAgZ2VuZXJhbDogR2VuZXJhbFNldHRpbmdzO1xuICBzZWN1cml0eTogU2VjdXJpdHlTZXR0aW5ncztcbiAgbGdwZDogTEdQRFNldHRpbmdzO1xuICBwYXltZW50czogUGF5bWVudFNldHRpbmdzO1xuICBzdG9yZTogU3RvcmVTZXR0aW5ncztcbiAgbGVhZ3VlczogTGVhZ3VlU2V0dGluZ3M7XG4gIGJyb2FkY2FzdDogQnJvYWRjYXN0U2V0dGluZ3M7XG4gIG5vdGlmaWNhdGlvbnM6IE5vdGlmaWNhdGlvblNldHRpbmdzO1xuICBpbnRlZ3JhdGlvbnM6IEludGVncmF0aW9uU2V0dGluZ3M7XG4gIHVwZGF0ZWRBdDogc3RyaW5nO1xuICB1cGRhdGVkQnk6IHN0cmluZztcbn1cblxuZXhwb3J0IGNvbnN0IERFRkFVTFRfU0VUVElOR1M6IFN5c3RlbVNldHRpbmdzID0ge1xuICBpZDogJ2dsb2JhbCcsXG4gIHVwZGF0ZWRBdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICB1cGRhdGVkQnk6ICdzeXN0ZW0nLFxuICBnZW5lcmFsOiB7XG4gICAgdGVhbU5hbWU6ICdNZXUgVGltZSBGQycsXG4gICAgbG9nb1VybDogJy9sb2dvLnBuZycsXG4gICAgcHJpbWFyeUNvbG9yOiAnIzBGNTEzMicsXG4gICAgc2Vjb25kYXJ5Q29sb3I6ICcjMkVDQzcxJyxcbiAgICBsYW5ndWFnZTogJ3B0LUJSJyxcbiAgICB0aW1lem9uZTogJ0FtZXJpY2EvU2FvX1BhdWxvJ1xuICB9LFxuICBzZWN1cml0eToge1xuICAgIHBhc3N3b3JkUG9saWN5OiB7IG1pbkxlbmd0aDogOCwgcmVxdWlyZU51bWJlcnM6IHRydWUsIHJlcXVpcmVTeW1ib2xzOiBmYWxzZSB9LFxuICAgIGxvZ2luTWV0aG9kczogeyB3aGF0c2FwcDogdHJ1ZSwgZW1haWw6IHRydWUsIGdvb2dsZTogZmFsc2UgfSxcbiAgICBzZXNzaW9uVGltZW91dE1pbnV0ZXM6IDYwXG4gIH0sXG4gIGxncGQ6IHtcbiAgICBwcml2YWN5UG9saWN5OiAnIyBQb2zDrXRpY2EgZGUgUHJpdmFjaWRhZGVcXG5cXG4uLi4nLFxuICAgIGRhdGFSZXRlbnRpb25Nb250aHM6IDEyLFxuICAgIGNvb2tpZUNvbnNlbnRSZXF1aXJlZDogdHJ1ZSxcbiAgICBkcG9FbWFpbDogJ2Rwb0BtZXV0aW1lZmMuY29tJ1xuICB9LFxuICBwYXltZW50czoge1xuICAgIHBpeEVuYWJsZWQ6IHRydWUsXG4gICAgY3JlZGl0Q2FyZEVuYWJsZWQ6IHRydWUsXG4gICAgZ2F0ZXdheTogJ21lcmNhZG9wYWdvJyxcbiAgICBhY3RpdmVQbGFuOiAnZnJlZSdcbiAgfSxcbiAgc3RvcmU6IHtcbiAgICBlbmFibGVkOiB0cnVlLFxuICAgIGRlZmF1bHRQcm9maXRNYXJnaW46IDMwLFxuICAgIG1pblN0b2NrQWxlcnQ6IDUsXG4gICAgc2hpcHBpbmdGbGF0UmF0ZTogMTUuMDAsXG4gICAgb25lQ2xpY2tDaGVja291dDogdHJ1ZVxuICB9LFxuICBsZWFndWVzOiB7XG4gICAgY3VycmVudFNlYXNvbjogJzIwMjYnLFxuICAgIGRlZmF1bHRQb2ludHNXaW46IDMsXG4gICAgZGVmYXVsdFBvaW50c0RyYXc6IDEsXG4gICAgbWF4VGVhbXNQZXJMZWFndWU6IDIwXG4gIH0sXG4gIGJyb2FkY2FzdDoge1xuICAgIGVuYWJsZWQ6IGZhbHNlLFxuICAgIHBsYXRmb3JtOiAneW91dHViZScsXG4gICAgc3RyZWFtRGVsYXlTZWNvbmRzOiAwLFxuICAgIG1vbmV0aXphdGlvbkVuYWJsZWQ6IGZhbHNlXG4gIH0sXG4gIG5vdGlmaWNhdGlvbnM6IHtcbiAgICB3aGF0c2FwcEVuYWJsZWQ6IHRydWUsXG4gICAgZW1haWxFbmFibGVkOiB0cnVlLFxuICAgIHB1c2hFbmFibGVkOiB0cnVlXG4gIH0sXG4gIGludGVncmF0aW9uczoge1xuICAgIHdlYmhvb2tzOiBbXSxcbiAgICBhcGlLZXlzOiBbXVxuICB9XG59O1xuIl0sIm5hbWVzIjpbIkRFRkFVTFRfU0VUVElOR1MiLCJpZCIsInVwZGF0ZWRBdCIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsInVwZGF0ZWRCeSIsImdlbmVyYWwiLCJ0ZWFtTmFtZSIsImxvZ29VcmwiLCJwcmltYXJ5Q29sb3IiLCJzZWNvbmRhcnlDb2xvciIsImxhbmd1YWdlIiwidGltZXpvbmUiLCJzZWN1cml0eSIsInBhc3N3b3JkUG9saWN5IiwibWluTGVuZ3RoIiwicmVxdWlyZU51bWJlcnMiLCJyZXF1aXJlU3ltYm9scyIsImxvZ2luTWV0aG9kcyIsIndoYXRzYXBwIiwiZW1haWwiLCJnb29nbGUiLCJzZXNzaW9uVGltZW91dE1pbnV0ZXMiLCJsZ3BkIiwicHJpdmFjeVBvbGljeSIsImRhdGFSZXRlbnRpb25Nb250aHMiLCJjb29raWVDb25zZW50UmVxdWlyZWQiLCJkcG9FbWFpbCIsInBheW1lbnRzIiwicGl4RW5hYmxlZCIsImNyZWRpdENhcmRFbmFibGVkIiwiZ2F0ZXdheSIsImFjdGl2ZVBsYW4iLCJzdG9yZSIsImVuYWJsZWQiLCJkZWZhdWx0UHJvZml0TWFyZ2luIiwibWluU3RvY2tBbGVydCIsInNoaXBwaW5nRmxhdFJhdGUiLCJvbmVDbGlja0NoZWNrb3V0IiwibGVhZ3VlcyIsImN1cnJlbnRTZWFzb24iLCJkZWZhdWx0UG9pbnRzV2luIiwiZGVmYXVsdFBvaW50c0RyYXciLCJtYXhUZWFtc1BlckxlYWd1ZSIsImJyb2FkY2FzdCIsInBsYXRmb3JtIiwic3RyZWFtRGVsYXlTZWNvbmRzIiwibW9uZXRpemF0aW9uRW5hYmxlZCIsIm5vdGlmaWNhdGlvbnMiLCJ3aGF0c2FwcEVuYWJsZWQiLCJlbWFpbEVuYWJsZWQiLCJwdXNoRW5hYmxlZCIsImludGVncmF0aW9ucyIsIndlYmhvb2tzIiwiYXBpS2V5cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/types/settings.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/semver","vendor-chunks/jsonwebtoken","vendor-chunks/jws","vendor-chunks/@prisma","vendor-chunks/ecdsa-sig-formatter","vendor-chunks/bcryptjs","vendor-chunks/safe-buffer","vendor-chunks/ms","vendor-chunks/lodash.once","vendor-chunks/lodash.isstring","vendor-chunks/lodash.isplainobject","vendor-chunks/lodash.isnumber","vendor-chunks/lodash.isinteger","vendor-chunks/lodash.isboolean","vendor-chunks/lodash.includes","vendor-chunks/jwa","vendor-chunks/buffer-equal-constant-time"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fauth%2Fme%2Froute&page=%2Fapi%2Fauth%2Fme%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2Fme%2Froute.ts&appDir=C%3A%5CUsers%5CUsu%C3%A1rio%5CDocuments%5Ctrae_projects%5Ciptv%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CUsu%C3%A1rio%5CDocuments%5Ctrae_projects%5Ciptv&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();