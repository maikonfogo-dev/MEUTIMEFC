"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/settings/route";
exports.ids = ["app/api/settings/route"];
exports.modules = {

/***/ "../../client/components/action-async-storage.external":
/*!*******************************************************************************!*\
  !*** external "next/dist/client/components/action-async-storage.external.js" ***!
  \*******************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/action-async-storage.external.js");

/***/ }),

/***/ "../../client/components/request-async-storage.external":
/*!********************************************************************************!*\
  !*** external "next/dist/client/components/request-async-storage.external.js" ***!
  \********************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/request-async-storage.external.js");

/***/ }),

/***/ "../../client/components/static-generation-async-storage.external":
/*!******************************************************************************************!*\
  !*** external "next/dist/client/components/static-generation-async-storage.external.js" ***!
  \******************************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/static-generation-async-storage.external.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("buffer");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("stream");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("util");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fsettings%2Froute&page=%2Fapi%2Fsettings%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fsettings%2Froute.ts&appDir=C%3A%5CUsers%5CUsu%C3%A1rio%5CDocuments%5Ctrae_projects%5Ciptv%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CUsu%C3%A1rio%5CDocuments%5Ctrae_projects%5Ciptv&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fsettings%2Froute&page=%2Fapi%2Fsettings%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fsettings%2Froute.ts&appDir=C%3A%5CUsers%5CUsu%C3%A1rio%5CDocuments%5Ctrae_projects%5Ciptv%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CUsu%C3%A1rio%5CDocuments%5Ctrae_projects%5Ciptv&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_Usu_rio_Documents_trae_projects_iptv_src_app_api_settings_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/settings/route.ts */ \"(rsc)/./src/app/api/settings/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/settings/route\",\n        pathname: \"/api/settings\",\n        filename: \"route\",\n        bundlePath: \"app/api/settings/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\Usuário\\\\Documents\\\\trae_projects\\\\iptv\\\\src\\\\app\\\\api\\\\settings\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_Users_Usu_rio_Documents_trae_projects_iptv_src_app_api_settings_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/settings/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZzZXR0aW5ncyUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGc2V0dGluZ3MlMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZzZXR0aW5ncyUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUNVc3UlQzMlQTFyaW8lNUNEb2N1bWVudHMlNUN0cmFlX3Byb2plY3RzJTVDaXB0diU1Q3NyYyU1Q2FwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9QyUzQSU1Q1VzZXJzJTVDVXN1JUMzJUExcmlvJTVDRG9jdW1lbnRzJTVDdHJhZV9wcm9qZWN0cyU1Q2lwdHYmaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNjO0FBQ3FDO0FBQ2xIO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnSEFBbUI7QUFDM0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsaUVBQWlFO0FBQ3pFO0FBQ0E7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDdUg7O0FBRXZIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWV1dGltZS1mYy8/NjUwMyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCJDOlxcXFxVc2Vyc1xcXFxVc3XDoXJpb1xcXFxEb2N1bWVudHNcXFxcdHJhZV9wcm9qZWN0c1xcXFxpcHR2XFxcXHNyY1xcXFxhcHBcXFxcYXBpXFxcXHNldHRpbmdzXFxcXHJvdXRlLnRzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9zZXR0aW5ncy9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL3NldHRpbmdzXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9zZXR0aW5ncy9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIkM6XFxcXFVzZXJzXFxcXFVzdcOhcmlvXFxcXERvY3VtZW50c1xcXFx0cmFlX3Byb2plY3RzXFxcXGlwdHZcXFxcc3JjXFxcXGFwcFxcXFxhcGlcXFxcc2V0dGluZ3NcXFxccm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcyB9ID0gcm91dGVNb2R1bGU7XG5jb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvYXBpL3NldHRpbmdzL3JvdXRlXCI7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHNlcnZlckhvb2tzLFxuICAgICAgICBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fsettings%2Froute&page=%2Fapi%2Fsettings%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fsettings%2Froute.ts&appDir=C%3A%5CUsers%5CUsu%C3%A1rio%5CDocuments%5Ctrae_projects%5Ciptv%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CUsu%C3%A1rio%5CDocuments%5Ctrae_projects%5Ciptv&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/settings/route.ts":
/*!***************************************!*\
  !*** ./src/app/api/settings/route.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   PUT: () => (/* binding */ PUT)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_auth__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/auth */ \"(rsc)/./src/lib/auth.ts\");\n/* harmony import */ var _lib_db__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/db */ \"(rsc)/./src/lib/db.ts\");\n/* harmony import */ var next_headers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/headers */ \"(rsc)/./node_modules/next/dist/api/headers.js\");\n\n\n\n\nasync function GET() {\n    const token = (0,next_headers__WEBPACK_IMPORTED_MODULE_3__.cookies)().get(\"auth_token\")?.value;\n    if (!token) {\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Not authenticated\"\n        }, {\n            status: 401\n        });\n    }\n    const decoded = _lib_auth__WEBPACK_IMPORTED_MODULE_1__.auth.verifyToken(token);\n    if (!decoded) {\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Invalid token\"\n        }, {\n            status: 401\n        });\n    }\n    const user = _lib_db__WEBPACK_IMPORTED_MODULE_2__.db.users.findAll().find((u)=>u.id === decoded.userId);\n    if (!user) {\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"User not found\"\n        }, {\n            status: 404\n        });\n    }\n    // Determine Tenant ID\n    // Super Admin -> global\n    // Admin Time -> user.team_id\n    // Organizer -> user.leagueId (assuming structure, falling back to global or team)\n    let tenantId = \"global\";\n    if (user.role === \"admin_time\" && user.team_id) {\n        tenantId = user.team_id;\n    } else if (user.role === \"organizador_liga\" && user.leagueId) {\n        tenantId = user.leagueId;\n    }\n    const settings = _lib_db__WEBPACK_IMPORTED_MODULE_2__.db.settings.get(tenantId);\n    return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(settings);\n}\nasync function PUT(request) {\n    const token = (0,next_headers__WEBPACK_IMPORTED_MODULE_3__.cookies)().get(\"auth_token\")?.value;\n    if (!token) {\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Not authenticated\"\n        }, {\n            status: 401\n        });\n    }\n    const decoded = _lib_auth__WEBPACK_IMPORTED_MODULE_1__.auth.verifyToken(token);\n    if (!decoded) {\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Invalid token\"\n        }, {\n            status: 401\n        });\n    }\n    const user = _lib_db__WEBPACK_IMPORTED_MODULE_2__.db.users.findAll().find((u)=>u.id === decoded.userId);\n    if (!user) {\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"User not found\"\n        }, {\n            status: 404\n        });\n    }\n    const permissions = _lib_db__WEBPACK_IMPORTED_MODULE_2__.db.roles.getPermissions(user.role);\n    if (!permissions.includes(\"sistema.configuracoes\")) {\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Forbidden\"\n        }, {\n            status: 403\n        });\n    }\n    let tenantId = \"global\";\n    if (user.role === \"admin_time\" && user.team_id) {\n        tenantId = user.team_id;\n    } else if (user.role === \"organizador_liga\" && user.leagueId) {\n        tenantId = user.leagueId;\n    }\n    try {\n        const body = await request.json();\n        const updates = body;\n        // Security check: Don't allow changing ID via update\n        delete updates.id;\n        const updatedSettings = _lib_db__WEBPACK_IMPORTED_MODULE_2__.db.settings.update(tenantId, {\n            ...updates,\n            updatedBy: user.email\n        }, user.id, user.email);\n        // TODO: Add Audit Log entry here\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(updatedSettings);\n    } catch (error) {\n        console.error(\"Settings update error:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Failed to update settings\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QVE7SUFDbkM7SUFFQSxJQUFJO1FBQ0YsTUFBTVEsT0FBTyxNQUFNTCxRQUFRbEIsSUFBSTtRQUMvQixNQUFNd0IsVUFBVUQ7UUFFaEIscURBQXFEO1FBQ3JELE9BQU8sUUFBaUJiLEVBQUU7UUFFMUIsTUFBTWUsa0JBQWtCL0IsdUNBQUVBLENBQUNzQixRQUFRLENBQUNVLE1BQU0sQ0FDeENkLFVBQ0E7WUFDRSxHQUFHWSxPQUFPO1lBQ1ZHLFdBQVd0QixLQUFLdUIsS0FBSztRQUN2QixHQUNBdkIsS0FBS0ssRUFBRSxFQUNQTCxLQUFLdUIsS0FBSztRQUdaLGlDQUFpQztRQUVqQyxPQUFPcEMscURBQVlBLENBQUNRLElBQUksQ0FBQ3lCO0lBQzNCLEVBQUUsT0FBT3hCLE9BQU87UUFDZDRCLFFBQVE1QixLQUFLLENBQUMsMEJBQTBCQTtRQUN4QyxPQUFPVCxxREFBWUEsQ0FBQ1EsSUFBSSxDQUFDO1lBQUVDLE9BQU87UUFBNEIsR0FBRztZQUFFQyxRQUFRO1FBQUk7SUFDakY7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL21ldXRpbWUtZmMvLi9zcmMvYXBwL2FwaS9zZXR0aW5ncy9yb3V0ZS50cz8xMDY3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRSZXNwb25zZSB9IGZyb20gJ25leHQvc2VydmVyJztcbmltcG9ydCB7IGF1dGggfSBmcm9tICdAL2xpYi9hdXRoJztcbmltcG9ydCB7IGRiIH0gZnJvbSAnQC9saWIvZGInO1xuaW1wb3J0IHsgY29va2llcyB9IGZyb20gJ25leHQvaGVhZGVycyc7XG5pbXBvcnQgeyBTeXN0ZW1TZXR0aW5ncyB9IGZyb20gJ0AvdHlwZXMvc2V0dGluZ3MnO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gR0VUKCkge1xuICBjb25zdCB0b2tlbiA9IGNvb2tpZXMoKS5nZXQoJ2F1dGhfdG9rZW4nKT8udmFsdWU7XG5cbiAgaWYgKCF0b2tlbikge1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnTm90IGF1dGhlbnRpY2F0ZWQnIH0sIHsgc3RhdHVzOiA0MDEgfSk7XG4gIH1cblxuICBjb25zdCBkZWNvZGVkID0gYXV0aC52ZXJpZnlUb2tlbih0b2tlbik7XG4gIGlmICghZGVjb2RlZCkge1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnSW52YWxpZCB0b2tlbicgfSwgeyBzdGF0dXM6IDQwMSB9KTtcbiAgfVxuXG4gIGNvbnN0IHVzZXIgPSBkYi51c2Vycy5maW5kQWxsKCkuZmluZCh1ID0+IHUuaWQgPT09IGRlY29kZWQudXNlcklkKTtcbiAgaWYgKCF1c2VyKSB7XG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6ICdVc2VyIG5vdCBmb3VuZCcgfSwgeyBzdGF0dXM6IDQwNCB9KTtcbiAgfVxuXG4gIC8vIERldGVybWluZSBUZW5hbnQgSURcbiAgLy8gU3VwZXIgQWRtaW4gLT4gZ2xvYmFsXG4gIC8vIEFkbWluIFRpbWUgLT4gdXNlci50ZWFtX2lkXG4gIC8vIE9yZ2FuaXplciAtPiB1c2VyLmxlYWd1ZUlkIChhc3N1bWluZyBzdHJ1Y3R1cmUsIGZhbGxpbmcgYmFjayB0byBnbG9iYWwgb3IgdGVhbSlcbiAgXG4gIGxldCB0ZW5hbnRJZCA9ICdnbG9iYWwnO1xuICBpZiAodXNlci5yb2xlID09PSAnYWRtaW5fdGltZScgJiYgdXNlci50ZWFtX2lkKSB7XG4gICAgdGVuYW50SWQgPSB1c2VyLnRlYW1faWQ7XG4gIH0gZWxzZSBpZiAodXNlci5yb2xlID09PSAnb3JnYW5pemFkb3JfbGlnYScgJiYgKHVzZXIgYXMgYW55KS5sZWFndWVJZCkge1xuICAgIHRlbmFudElkID0gKHVzZXIgYXMgYW55KS5sZWFndWVJZDtcbiAgfVxuXG4gIGNvbnN0IHNldHRpbmdzID0gZGIuc2V0dGluZ3MuZ2V0KHRlbmFudElkKTtcblxuICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oc2V0dGluZ3MpO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUFVUKHJlcXVlc3Q6IFJlcXVlc3QpIHtcbiAgY29uc3QgdG9rZW4gPSBjb29raWVzKCkuZ2V0KCdhdXRoX3Rva2VuJyk/LnZhbHVlO1xuXG4gIGlmICghdG9rZW4pIHtcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogJ05vdCBhdXRoZW50aWNhdGVkJyB9LCB7IHN0YXR1czogNDAxIH0pO1xuICB9XG5cbiAgY29uc3QgZGVjb2RlZCA9IGF1dGgudmVyaWZ5VG9rZW4odG9rZW4pO1xuICBpZiAoIWRlY29kZWQpIHtcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogJ0ludmFsaWQgdG9rZW4nIH0sIHsgc3RhdHVzOiA0MDEgfSk7XG4gIH1cblxuICBjb25zdCB1c2VyID0gZGIudXNlcnMuZmluZEFsbCgpLmZpbmQodSA9PiB1LmlkID09PSBkZWNvZGVkLnVzZXJJZCk7XG4gIGlmICghdXNlcikge1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnVXNlciBub3QgZm91bmQnIH0sIHsgc3RhdHVzOiA0MDQgfSk7XG4gIH1cblxuICBjb25zdCBwZXJtaXNzaW9ucyA9IGRiLnJvbGVzLmdldFBlcm1pc3Npb25zKHVzZXIucm9sZSk7XG4gIGlmICghcGVybWlzc2lvbnMuaW5jbHVkZXMoJ3Npc3RlbWEuY29uZmlndXJhY29lcycpKSB7XG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6ICdGb3JiaWRkZW4nIH0sIHsgc3RhdHVzOiA0MDMgfSk7XG4gIH1cblxuICBsZXQgdGVuYW50SWQgPSAnZ2xvYmFsJztcbiAgaWYgKHVzZXIucm9sZSA9PT0gJ2FkbWluX3RpbWUnICYmIHVzZXIudGVhbV9pZCkge1xuICAgIHRlbmFudElkID0gdXNlci50ZWFtX2lkO1xuICB9IGVsc2UgaWYgKHVzZXIucm9sZSA9PT0gJ29yZ2FuaXphZG9yX2xpZ2EnICYmICh1c2VyIGFzIGFueSkubGVhZ3VlSWQpIHtcbiAgICB0ZW5hbnRJZCA9ICh1c2VyIGFzIGFueSkubGVhZ3VlSWQ7XG4gIH1cblxuICB0cnkge1xuICAgIGNvbnN0IGJvZHkgPSBhd2FpdCByZXF1ZXN0Lmpzb24oKTtcbiAgICBjb25zdCB1cGRhdGVzID0gYm9keSBhcyBQYXJ0aWFsPFN5c3RlbVNldHRpbmdzPjtcbiAgICBcbiAgICAvLyBTZWN1cml0eSBjaGVjazogRG9uJ3QgYWxsb3cgY2hhbmdpbmcgSUQgdmlhIHVwZGF0ZVxuICAgIGRlbGV0ZSAodXBkYXRlcyBhcyBhbnkpLmlkO1xuICAgIFxuICAgIGNvbnN0IHVwZGF0ZWRTZXR0aW5ncyA9IGRiLnNldHRpbmdzLnVwZGF0ZShcbiAgICAgIHRlbmFudElkLCBcbiAgICAgIHtcbiAgICAgICAgLi4udXBkYXRlcyxcbiAgICAgICAgdXBkYXRlZEJ5OiB1c2VyLmVtYWlsXG4gICAgICB9LCBcbiAgICAgIHVzZXIuaWQsIFxuICAgICAgdXNlci5lbWFpbFxuICAgICk7XG5cbiAgICAvLyBUT0RPOiBBZGQgQXVkaXQgTG9nIGVudHJ5IGhlcmVcblxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih1cGRhdGVkU2V0dGluZ3MpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ1NldHRpbmdzIHVwZGF0ZSBlcnJvcjonLCBlcnJvcik7XG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6ICdGYWlsZWQgdG8gdXBkYXRlIHNldHRpbmdzJyB9LCB7IHN0YXR1czogNTAwIH0pO1xuICB9XG59XG4iXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwiYXV0aCIsImRiIiwiY29va2llcyIsIkdFVCIsInRva2VuIiwiZ2V0IiwidmFsdWUiLCJqc29uIiwiZXJyb3IiLCJzdGF0dXMiLCJkZWNvZGVkIiwidmVyaWZ5VG9rZW4iLCJ1c2VyIiwidXNlcnMiLCJmaW5kQWxsIiwiZmluZCIsInUiLCJpZCIsInVzZXJJZCIsInRlbmFudElkIiwicm9sZSIsInRlYW1faWQiLCJsZWFndWVJZCIsInNldHRpbmdzIiwiUFVUIiwicmVxdWVzdCIsInBlcm1pc3Npb25zIiwicm9sZXMiLCJnZXRQZXJtaXNzaW9ucyIsImluY2x1ZGVzIiwiYm9keSIsInVwZGF0ZXMiLCJ1cGRhdGVkU2V0dGluZ3MiLCJ1cGRhdGUiLCJ1cGRhdGVkQnkiLCJlbWFpbCIsImNvbnNvbGUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/settings/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/auth.ts":
/*!*************************!*\
  !*** ./src/lib/auth.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   auth: () => (/* binding */ auth)\n/* harmony export */ });\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! bcryptjs */ \"(rsc)/./node_modules/bcryptjs/index.js\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jsonwebtoken */ \"(rsc)/./node_modules/jsonwebtoken/index.js\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jsonwebtoken__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _lib_db__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/db */ \"(rsc)/./src/lib/db.ts\");\n\n\n\nconst JWT_SECRET = process.env.JWT_SECRET || \"default-secret-key-change-in-prod\";\nconst auth = {\n    hashPassword: async (password)=>{\n        return await bcryptjs__WEBPACK_IMPORTED_MODULE_0__[\"default\"].hash(password, 10);\n    },\n    comparePassword: async (password, hash)=>{\n        return await bcryptjs__WEBPACK_IMPORTED_MODULE_0__[\"default\"].compare(password, hash);\n    },\n    generateToken: (user)=>{\n        // Get permissions based on role\n        const permissions = _lib_db__WEBPACK_IMPORTED_MODULE_2__.db.roles.getPermissions(user.role);\n        return jsonwebtoken__WEBPACK_IMPORTED_MODULE_1___default().sign({\n            userId: user.id,\n            role: user.role,\n            teamId: user.team_id,\n            isSocio: user.is_socio,\n            permissions: permissions\n        }, JWT_SECRET, {\n            expiresIn: \"24h\"\n        });\n    },\n    verifyToken: (token)=>{\n        try {\n            return jsonwebtoken__WEBPACK_IMPORTED_MODULE_1___default().verify(token, JWT_SECRET);\n        } catch (error) {\n            return null;\n        }\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL2F1dGgudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBOEI7QUFDQztBQUVEO0FBRTlCLE1BQU1HLGFBQWFDLFFBQVFDLEdBQUcsQ0FBQ0YsVUFBVSxJQUFJO0FBRXRDLE1BQU1HLE9BQU87SUFDbEJDLGNBQWMsT0FBT0M7UUFDbkIsT0FBTyxNQUFNUixxREFBVyxDQUFDUSxVQUFVO0lBQ3JDO0lBRUFFLGlCQUFpQixPQUFPRixVQUFrQkM7UUFDeEMsT0FBTyxNQUFNVCx3REFBYyxDQUFDUSxVQUFVQztJQUN4QztJQUVBRyxlQUFlLENBQUNDO1FBQ2QsZ0NBQWdDO1FBQ2hDLE1BQU1DLGNBQWNaLHVDQUFFQSxDQUFDYSxLQUFLLENBQUNDLGNBQWMsQ0FBQ0gsS0FBS0ksSUFBSTtRQUVyRCxPQUFPaEIsd0RBQVEsQ0FDYjtZQUNFa0IsUUFBUU4sS0FBS08sRUFBRTtZQUNmSCxNQUFNSixLQUFLSSxJQUFJO1lBQ2ZJLFFBQVFSLEtBQUtTLE9BQU87WUFDcEJDLFNBQVNWLEtBQUtXLFFBQVE7WUFDdEJWLGFBQWFBO1FBQ2YsR0FDQVgsWUFDQTtZQUFFc0IsV0FBVztRQUFNO0lBRXZCO0lBRUFDLGFBQWEsQ0FBQ0M7UUFDWixJQUFJO1lBQ0YsT0FBTzFCLDBEQUFVLENBQUMwQixPQUFPeEI7UUFDM0IsRUFBRSxPQUFPMEIsT0FBTztZQUNkLE9BQU87UUFDVDtJQUNGO0FBQ0YsRUFBRSIsInNvdXJjZXMiOlsid2VicGFjazovL21ldXRpbWUtZmMvLi9zcmMvbGliL2F1dGgudHM/NjY5MiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgYmNyeXB0IGZyb20gJ2JjcnlwdGpzJztcbmltcG9ydCBqd3QgZnJvbSAnanNvbndlYnRva2VuJztcbmltcG9ydCB7IFVzZXIgfSBmcm9tICdAL3R5cGVzL2F1dGgnO1xuaW1wb3J0IHsgZGIgfSBmcm9tICdAL2xpYi9kYic7XG5cbmNvbnN0IEpXVF9TRUNSRVQgPSBwcm9jZXNzLmVudi5KV1RfU0VDUkVUIHx8ICdkZWZhdWx0LXNlY3JldC1rZXktY2hhbmdlLWluLXByb2QnO1xuXG5leHBvcnQgY29uc3QgYXV0aCA9IHtcbiAgaGFzaFBhc3N3b3JkOiBhc3luYyAocGFzc3dvcmQ6IHN0cmluZyk6IFByb21pc2U8c3RyaW5nPiA9PiB7XG4gICAgcmV0dXJuIGF3YWl0IGJjcnlwdC5oYXNoKHBhc3N3b3JkLCAxMCk7XG4gIH0sXG5cbiAgY29tcGFyZVBhc3N3b3JkOiBhc3luYyAocGFzc3dvcmQ6IHN0cmluZywgaGFzaDogc3RyaW5nKTogUHJvbWlzZTxib29sZWFuPiA9PiB7XG4gICAgcmV0dXJuIGF3YWl0IGJjcnlwdC5jb21wYXJlKHBhc3N3b3JkLCBoYXNoKTtcbiAgfSxcblxuICBnZW5lcmF0ZVRva2VuOiAodXNlcjogVXNlcik6IHN0cmluZyA9PiB7XG4gICAgLy8gR2V0IHBlcm1pc3Npb25zIGJhc2VkIG9uIHJvbGVcbiAgICBjb25zdCBwZXJtaXNzaW9ucyA9IGRiLnJvbGVzLmdldFBlcm1pc3Npb25zKHVzZXIucm9sZSk7XG5cbiAgICByZXR1cm4gand0LnNpZ24oXG4gICAgICB7XG4gICAgICAgIHVzZXJJZDogdXNlci5pZCxcbiAgICAgICAgcm9sZTogdXNlci5yb2xlLFxuICAgICAgICB0ZWFtSWQ6IHVzZXIudGVhbV9pZCxcbiAgICAgICAgaXNTb2NpbzogdXNlci5pc19zb2NpbyxcbiAgICAgICAgcGVybWlzc2lvbnM6IHBlcm1pc3Npb25zXG4gICAgICB9LFxuICAgICAgSldUX1NFQ1JFVCxcbiAgICAgIHsgZXhwaXJlc0luOiAnMjRoJyB9XG4gICAgKTtcbiAgfSxcblxuICB2ZXJpZnlUb2tlbjogKHRva2VuOiBzdHJpbmcpOiBhbnkgPT4ge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gand0LnZlcmlmeSh0b2tlbiwgSldUX1NFQ1JFVCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxufTtcbiJdLCJuYW1lcyI6WyJiY3J5cHQiLCJqd3QiLCJkYiIsIkpXVF9TRUNSRVQiLCJwcm9jZXNzIiwiZW52IiwiYXV0aCIsImhhc2hQYXNzd29yZCIsInBhc3N3b3JkIiwiaGFzaCIsImNvbXBhcmVQYXNzd29yZCIsImNvbXBhcmUiLCJnZW5lcmF0ZVRva2VuIiwidXNlciIsInBlcm1pc3Npb25zIiwicm9sZXMiLCJnZXRQZXJtaXNzaW9ucyIsInJvbGUiLCJzaWduIiwidXNlcklkIiwiaWQiLCJ0ZWFtSWQiLCJ0ZWFtX2lkIiwiaXNTb2NpbyIsImlzX3NvY2lvIiwiZXhwaXJlc0luIiwidmVyaWZ5VG9rZW4iLCJ0b2tlbiIsInZlcmlmeSIsImVycm9yIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/auth.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/db.ts":
/*!***********************!*\
  !*** ./src/lib/db.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   db: () => (/* binding */ db)\n/* harmony export */ });\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _types_settings__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/types/settings */ \"(rsc)/./src/types/settings.ts\");\n\n\n\nconst DATA_DIR = path__WEBPACK_IMPORTED_MODULE_1___default().join(process.cwd(), \"data\");\nconst USERS_FILE = path__WEBPACK_IMPORTED_MODULE_1___default().join(DATA_DIR, \"users.json\");\nconst OTP_FILE = path__WEBPACK_IMPORTED_MODULE_1___default().join(DATA_DIR, \"otp.json\");\nconst SETTINGS_FILE = path__WEBPACK_IMPORTED_MODULE_1___default().join(DATA_DIR, \"settings.json\");\nconst LOGS_FILE = path__WEBPACK_IMPORTED_MODULE_1___default().join(DATA_DIR, \"logs.json\");\nconst SESSIONS_FILE = path__WEBPACK_IMPORTED_MODULE_1___default().join(DATA_DIR, \"sessions.json\");\nconst CONSENTS_FILE = path__WEBPACK_IMPORTED_MODULE_1___default().join(DATA_DIR, \"consents.json\");\nconst TEAM_FILE = path__WEBPACK_IMPORTED_MODULE_1___default().join(DATA_DIR, \"team.json\");\nconst PASSWORD_RESETS_FILE = path__WEBPACK_IMPORTED_MODULE_1___default().join(DATA_DIR, \"password_resets.json\");\n// RBAC Configuration (Expanded)\nconst ROLES_CONFIG = {\n    \"torcedor\": [\n        \"loja.ver\",\n        \"loja.comprar\",\n        \"view_loja\",\n        \"comprar_produto\",\n        \"ver_campeonatos\"\n    ],\n    \"socio\": [\n        // Torcedor\n        \"loja.ver\",\n        \"loja.comprar\",\n        \"view_loja\",\n        \"comprar_produto\",\n        \"ver_campeonatos\",\n        // Sócio Exclusives\n        \"checkout_1_click\",\n        \"acesso_beneficios\"\n    ],\n    \"admin_time\": [\n        \"loja.ver\",\n        \"loja.criar_produto\",\n        \"loja.editar_produto\",\n        \"loja.ver_pedidos\",\n        \"transmissao.ver_metricas\",\n        \"auth.gerenciar_usuarios\",\n        \"sistema.configuracoes\",\n        // Legacy\n        \"gerenciar_produtos\",\n        \"gerenciar_pedidos\",\n        \"ver_relatorios\"\n    ],\n    \"organizador_liga\": [\n        \"liga.criar\",\n        \"liga.editar\",\n        \"liga.publicar\",\n        \"liga.ver_dashboard\",\n        \"transmissao.iniciar\",\n        \"transmissao.encerrar\",\n        \"transmissao.ver_metricas\",\n        \"sistema.configuracoes\",\n        // Legacy\n        \"criar_campeonato\",\n        \"gerenciar_times\",\n        \"gerenciar_tabela\"\n    ],\n    \"arbitro\": [\n        \"ver_escalas\",\n        \"registrar_resultados\"\n    ],\n    \"super_admin\": [\n        \"sistema.configuracoes\",\n        \"auth.gerenciar_permissoes\",\n        \"auth.gerenciar_usuarios\",\n        \"loja.ver_pedidos\",\n        \"liga.ver_dashboard\"\n    ]\n};\n// Map legacy 'admin' and 'organizador' to new names for compatibility\nconst ROLE_MAPPING = {\n    \"admin\": \"admin_time\",\n    \"organizador\": \"organizador_liga\"\n};\n// Ensure data directory exists\nif (!fs__WEBPACK_IMPORTED_MODULE_0___default().existsSync(DATA_DIR)) {\n    fs__WEBPACK_IMPORTED_MODULE_0___default().mkdirSync(DATA_DIR);\n}\n// Ensure files exist\n[\n    USERS_FILE,\n    OTP_FILE,\n    SETTINGS_FILE,\n    LOGS_FILE,\n    SESSIONS_FILE,\n    CONSENTS_FILE,\n    PASSWORD_RESETS_FILE\n].forEach((file)=>{\n    if (!fs__WEBPACK_IMPORTED_MODULE_0___default().existsSync(file)) {\n        if (file === SETTINGS_FILE) {\n            fs__WEBPACK_IMPORTED_MODULE_0___default().writeFileSync(file, JSON.stringify([\n                _types_settings__WEBPACK_IMPORTED_MODULE_2__.DEFAULT_SETTINGS\n            ]));\n        } else {\n            fs__WEBPACK_IMPORTED_MODULE_0___default().writeFileSync(file, JSON.stringify([]));\n        }\n    }\n});\nfunction readJSON(file, defaultVal) {\n    try {\n        const data = fs__WEBPACK_IMPORTED_MODULE_0___default().readFileSync(file, \"utf-8\");\n        return JSON.parse(data);\n    } catch (e) {\n        return defaultVal;\n    }\n}\nfunction writeJSON(file, data) {\n    fs__WEBPACK_IMPORTED_MODULE_0___default().writeFileSync(file, JSON.stringify(data, null, 2));\n}\nconst db = {\n    users: {\n        findAll: ()=>readJSON(USERS_FILE, []),\n        findByEmail: (email)=>{\n            return db.users.findAll().find((u)=>u.email === email);\n        },\n        findByPhone: (phone)=>{\n            return db.users.findAll().find((u)=>u.phone === phone);\n        },\n        create: (user)=>{\n            const users = db.users.findAll();\n            users.push(user);\n            writeJSON(USERS_FILE, users);\n            return user;\n        },\n        update: (userId, updates)=>{\n            const users = db.users.findAll();\n            const index = users.findIndex((u)=>u.id === userId);\n            if (index === -1) return null;\n            const updated = {\n                ...users[index],\n                ...updates\n            };\n            users[index] = updated;\n            writeJSON(USERS_FILE, users);\n            return updated;\n        }\n    },\n    roles: {\n        getPermissions: (roleName)=>{\n            const mappedRole = ROLE_MAPPING[roleName] || roleName;\n            return ROLES_CONFIG[mappedRole] || ROLES_CONFIG[\"torcedor\"];\n        }\n    },\n    settings: {\n        get: (tenantId = \"global\")=>{\n            const settingsList = readJSON(SETTINGS_FILE, []);\n            return settingsList.find((s)=>s.id === tenantId) || {\n                ..._types_settings__WEBPACK_IMPORTED_MODULE_2__.DEFAULT_SETTINGS,\n                id: tenantId\n            };\n        },\n        update: (tenantId, updates, userId, userEmail)=>{\n            const settingsList = readJSON(SETTINGS_FILE, []);\n            const index = settingsList.findIndex((s)=>s.id === tenantId);\n            let currentSettings = index !== -1 ? settingsList[index] : {\n                ..._types_settings__WEBPACK_IMPORTED_MODULE_2__.DEFAULT_SETTINGS,\n                id: tenantId\n            };\n            const oldSettings = {\n                ...currentSettings\n            };\n            const newSettings = {\n                ...currentSettings,\n                ...updates,\n                updatedAt: new Date().toISOString()\n            };\n            if (index !== -1) {\n                settingsList[index] = newSettings;\n            } else {\n                settingsList.push(newSettings);\n            }\n            writeJSON(SETTINGS_FILE, settingsList);\n            // Create log entry if user info is provided\n            if (userId && userEmail) {\n                // Identify changed module\n                const modules = Object.keys(updates);\n                modules.forEach((module)=>{\n                    if (module === \"id\" || module === \"updatedAt\") return;\n                    db.logs.create({\n                        id: crypto.randomUUID(),\n                        tenantId,\n                        userId,\n                        userEmail,\n                        module: module,\n                        action: \"UPDATE\",\n                        oldValue: oldSettings[module],\n                        newValue: newSettings[module],\n                        createdAt: new Date().toISOString()\n                    });\n                });\n            }\n            return newSettings;\n        }\n    },\n    logs: {\n        findAll: ()=>readJSON(LOGS_FILE, []),\n        create: (log)=>{\n            const logs = db.logs.findAll();\n            logs.unshift(log); // Add to beginning\n            writeJSON(LOGS_FILE, logs);\n            return log;\n        }\n    },\n    sessions: {\n        findAll: ()=>readJSON(SESSIONS_FILE, []),\n        create: (session)=>{\n            const sessions = db.sessions.findAll();\n            sessions.push(session);\n            writeJSON(SESSIONS_FILE, sessions);\n            return session;\n        },\n        kill: (sessionId)=>{\n            const sessions = db.sessions.findAll();\n            const index = sessions.findIndex((s)=>s.id === sessionId);\n            if (index !== -1) {\n                sessions[index].isActive = false;\n                writeJSON(SESSIONS_FILE, sessions);\n            }\n        },\n        killAll: ()=>{\n            const sessions = db.sessions.findAll();\n            sessions.forEach((s)=>s.isActive = false);\n            writeJSON(SESSIONS_FILE, sessions);\n        }\n    },\n    consents: {\n        findAll: ()=>readJSON(CONSENTS_FILE, []),\n        create: (consent)=>{\n            const consents = db.consents.findAll();\n            consents.push(consent);\n            writeJSON(CONSENTS_FILE, consents);\n            return consent;\n        }\n    },\n    otp: {\n        findAll: ()=>readJSON(OTP_FILE, []),\n        create: (otp)=>{\n            const otps = db.otp.findAll();\n            const filtered = otps.filter((o)=>o.phone !== otp.phone);\n            filtered.push(otp);\n            writeJSON(OTP_FILE, filtered);\n            return otp;\n        },\n        findValid: (phone, code)=>{\n            const otps = db.otp.findAll();\n            const now = new Date();\n            return otps.find((o)=>o.phone === phone && o.code === code && !o.verified && new Date(o.expires_at) > now);\n        },\n        markVerified: (id)=>{\n            const otps = db.otp.findAll();\n            const index = otps.findIndex((o)=>o.id === id);\n            if (index !== -1) {\n                otps[index].verified = true;\n                writeJSON(OTP_FILE, otps);\n            }\n        }\n    },\n    passwordResets: {\n        findAll: ()=>readJSON(PASSWORD_RESETS_FILE, []),\n        create: (reset)=>{\n            const resets = db.passwordResets.findAll();\n            const filtered = resets.filter((r)=>r.userId !== reset.userId || r.channel !== reset.channel);\n            filtered.push(reset);\n            writeJSON(PASSWORD_RESETS_FILE, filtered);\n            return reset;\n        },\n        findValid: (token)=>{\n            const resets = db.passwordResets.findAll();\n            const now = new Date();\n            return resets.find((r)=>r.id === token && !r.used && new Date(r.expires_at) > now);\n        },\n        markUsed: (token)=>{\n            const resets = db.passwordResets.findAll();\n            const index = resets.findIndex((r)=>r.id === token);\n            if (index !== -1) {\n                resets[index].used = true;\n                writeJSON(PASSWORD_RESETS_FILE, resets);\n            }\n        }\n    },\n    team: {\n        get: ()=>readJSON(TEAM_FILE, {}),\n        update: (data)=>{\n            const current = readJSON(TEAM_FILE, {});\n            const updated = {\n                ...current,\n                ...data\n            };\n            writeJSON(TEAM_FILE, updated);\n            return updated;\n        }\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUVyRCxFQUFFLEtBQUt1RCxTQUFTLENBQUNGLEVBQUVHLElBQUksSUFBSSxJQUFJeEMsS0FBS3FDLEVBQUVMLFVBQVUsSUFBSUY7UUFDaEY7UUFFQVcsVUFBVSxDQUFDRjtZQUNULE1BQU1ILFNBQVNyRSxHQUFHbUUsY0FBYyxDQUFDakUsT0FBTztZQUN4QyxNQUFNYSxRQUFRc0QsT0FBT3JELFNBQVMsQ0FBQ3NELENBQUFBLElBQUtBLEVBQUVyRCxFQUFFLEtBQUt1RDtZQUM3QyxJQUFJekQsVUFBVSxDQUFDLEdBQUc7Z0JBQ2hCc0QsTUFBTSxDQUFDdEQsTUFBTSxDQUFDMEQsSUFBSSxHQUFHO2dCQUNyQjFFLFVBQVVoQixzQkFBc0JzRjtZQUNsQztRQUNGO0lBQ0Y7SUFFQU0sTUFBTTtRQUNKbkQsS0FBSyxJQUFNL0IsU0FBbUJYLFdBQVcsQ0FBQztRQUMxQzhCLFFBQVEsQ0FBQ2pCO1lBQ1AsTUFBTWlGLFVBQVVuRixTQUFtQlgsV0FBVyxDQUFDO1lBQy9DLE1BQU1vQyxVQUFVO2dCQUFFLEdBQUcwRCxPQUFPO2dCQUFFLEdBQUdqRixJQUFJO1lBQUM7WUFDdENJLFVBQVVqQixXQUFXb0M7WUFDckIsT0FBT0E7UUFDVDtJQUNGO0FBQ0YsRUFBRSIsInNvdXJjZXMiOlsid2VicGFjazovL21ldXRpbWUtZmMvLi9zcmMvbGliL2RiLnRzPzllNGYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGZzIGZyb20gJ2ZzJztcbmltcG9ydCBwYXRoIGZyb20gJ3BhdGgnO1xuaW1wb3J0IHsgVXNlciwgT1RQLCBQZXJtaXNzaW9uS2V5LCBSb2xlLCBQYXNzd29yZFJlc2V0IH0gZnJvbSAnQC90eXBlcy9hdXRoJztcbmltcG9ydCB7IFN5c3RlbVNldHRpbmdzLCBERUZBVUxUX1NFVFRJTkdTLCBTZXR0aW5nc0xvZywgVXNlclNlc3Npb24sIFByaXZhY3lDb25zZW50IH0gZnJvbSAnQC90eXBlcy9zZXR0aW5ncyc7XG5pbXBvcnQgeyBUZWFtRGF0YSB9IGZyb20gJ0AvdHlwZXMvdGVhbSc7XG5cbmNvbnN0IERBVEFfRElSID0gcGF0aC5qb2luKHByb2Nlc3MuY3dkKCksICdkYXRhJyk7XG5jb25zdCBVU0VSU19GSUxFID0gcGF0aC5qb2luKERBVEFfRElSLCAndXNlcnMuanNvbicpO1xuY29uc3QgT1RQX0ZJTEUgPSBwYXRoLmpvaW4oREFUQV9ESVIsICdvdHAuanNvbicpO1xuY29uc3QgU0VUVElOR1NfRklMRSA9IHBhdGguam9pbihEQVRBX0RJUiwgJ3NldHRpbmdzLmpzb24nKTtcbmNvbnN0IExPR1NfRklMRSA9IHBhdGguam9pbihEQVRBX0RJUiwgJ2xvZ3MuanNvbicpO1xuY29uc3QgU0VTU0lPTlNfRklMRSA9IHBhdGguam9pbihEQVRBX0RJUiwgJ3Nlc3Npb25zLmpzb24nKTtcbmNvbnN0IENPTlNFTlRTX0ZJTEUgPSBwYXRoLmpvaW4oREFUQV9ESVIsICdjb25zZW50cy5qc29uJyk7XG5jb25zdCBURUFNX0ZJTEUgPSBwYXRoLmpvaW4oREFUQV9ESVIsICd0ZWFtLmpzb24nKTtcbmNvbnN0IFBBU1NXT1JEX1JFU0VUU19GSUxFID0gcGF0aC5qb2luKERBVEFfRElSLCAncGFzc3dvcmRfcmVzZXRzLmpzb24nKTtcblxuLy8gUkJBQyBDb25maWd1cmF0aW9uIChFeHBhbmRlZClcbmNvbnN0IFJPTEVTX0NPTkZJRzogUmVjb3JkPHN0cmluZywgUGVybWlzc2lvbktleVtdPiA9IHtcbiAgJ3RvcmNlZG9yJzogW1xuICAgICdsb2phLnZlcicsIFxuICAgICdsb2phLmNvbXByYXInLCBcbiAgICAndmlld19sb2phJywgXG4gICAgJ2NvbXByYXJfcHJvZHV0bycsIFxuICAgICd2ZXJfY2FtcGVvbmF0b3MnXG4gIF0sXG4gICdzb2Npbyc6IFtcbiAgICAvLyBUb3JjZWRvclxuICAgICdsb2phLnZlcicsIFxuICAgICdsb2phLmNvbXByYXInLCBcbiAgICAndmlld19sb2phJywgXG4gICAgJ2NvbXByYXJfcHJvZHV0bycsIFxuICAgICd2ZXJfY2FtcGVvbmF0b3MnLFxuICAgIC8vIFPDs2NpbyBFeGNsdXNpdmVzXG4gICAgJ2NoZWNrb3V0XzFfY2xpY2snLCBcbiAgICAnYWNlc3NvX2JlbmVmaWNpb3MnXG4gIF0sXG4gICdhZG1pbl90aW1lJzogW1xuICAgICdsb2phLnZlcicsXG4gICAgJ2xvamEuY3JpYXJfcHJvZHV0bycsXG4gICAgJ2xvamEuZWRpdGFyX3Byb2R1dG8nLFxuICAgICdsb2phLnZlcl9wZWRpZG9zJyxcbiAgICAndHJhbnNtaXNzYW8udmVyX21ldHJpY2FzJyxcbiAgICAnYXV0aC5nZXJlbmNpYXJfdXN1YXJpb3MnLFxuICAgICdzaXN0ZW1hLmNvbmZpZ3VyYWNvZXMnLCAvLyBBbGxvdyBzZXR0aW5ncyBhY2Nlc3NcbiAgICAvLyBMZWdhY3lcbiAgICAnZ2VyZW5jaWFyX3Byb2R1dG9zJywgXG4gICAgJ2dlcmVuY2lhcl9wZWRpZG9zJywgXG4gICAgJ3Zlcl9yZWxhdG9yaW9zJ1xuICBdLFxuICAnb3JnYW5pemFkb3JfbGlnYSc6IFtcbiAgICAnbGlnYS5jcmlhcicsXG4gICAgJ2xpZ2EuZWRpdGFyJyxcbiAgICAnbGlnYS5wdWJsaWNhcicsXG4gICAgJ2xpZ2EudmVyX2Rhc2hib2FyZCcsXG4gICAgJ3RyYW5zbWlzc2FvLmluaWNpYXInLFxuICAgICd0cmFuc21pc3Nhby5lbmNlcnJhcicsXG4gICAgJ3RyYW5zbWlzc2FvLnZlcl9tZXRyaWNhcycsXG4gICAgJ3Npc3RlbWEuY29uZmlndXJhY29lcycsIC8vIEFsbG93IHNldHRpbmdzIGFjY2Vzc1xuICAgIC8vIExlZ2FjeVxuICAgICdjcmlhcl9jYW1wZW9uYXRvJywgXG4gICAgJ2dlcmVuY2lhcl90aW1lcycsIFxuICAgICdnZXJlbmNpYXJfdGFiZWxhJ1xuICBdLFxuICAnYXJiaXRybyc6IFtcbiAgICAndmVyX2VzY2FsYXMnLCBcbiAgICAncmVnaXN0cmFyX3Jlc3VsdGFkb3MnXG4gIF0sXG4gICdzdXBlcl9hZG1pbic6IFtcbiAgICAnc2lzdGVtYS5jb25maWd1cmFjb2VzJyxcbiAgICAnYXV0aC5nZXJlbmNpYXJfcGVybWlzc29lcycsXG4gICAgJ2F1dGguZ2VyZW5jaWFyX3VzdWFyaW9zJyxcbiAgICAnbG9qYS52ZXJfcGVkaWRvcycsXG4gICAgJ2xpZ2EudmVyX2Rhc2hib2FyZCdcbiAgXVxufTtcblxuLy8gTWFwIGxlZ2FjeSAnYWRtaW4nIGFuZCAnb3JnYW5pemFkb3InIHRvIG5ldyBuYW1lcyBmb3IgY29tcGF0aWJpbGl0eVxuY29uc3QgUk9MRV9NQVBQSU5HOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge1xuICAnYWRtaW4nOiAnYWRtaW5fdGltZScsXG4gICdvcmdhbml6YWRvcic6ICdvcmdhbml6YWRvcl9saWdhJ1xufTtcblxuLy8gRW5zdXJlIGRhdGEgZGlyZWN0b3J5IGV4aXN0c1xuaWYgKCFmcy5leGlzdHNTeW5jKERBVEFfRElSKSkge1xuICBmcy5ta2RpclN5bmMoREFUQV9ESVIpO1xufVxuXG4vLyBFbnN1cmUgZmlsZXMgZXhpc3RcbltVU0VSU19GSUxFLCBPVFBfRklMRSwgU0VUVElOR1NfRklMRSwgTE9HU19GSUxFLCBTRVNTSU9OU19GSUxFLCBDT05TRU5UU19GSUxFLCBQQVNTV09SRF9SRVNFVFNfRklMRV0uZm9yRWFjaChmaWxlID0+IHtcbiAgaWYgKCFmcy5leGlzdHNTeW5jKGZpbGUpKSB7XG4gICAgaWYgKGZpbGUgPT09IFNFVFRJTkdTX0ZJTEUpIHtcbiAgICAgICAgZnMud3JpdGVGaWxlU3luYyhmaWxlLCBKU09OLnN0cmluZ2lmeShbREVGQVVMVF9TRVRUSU5HU10pKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBmcy53cml0ZUZpbGVTeW5jKGZpbGUsIEpTT04uc3RyaW5naWZ5KFtdKSk7XG4gICAgfVxuICB9XG59KTtcblxuZnVuY3Rpb24gcmVhZEpTT048VD4oZmlsZTogc3RyaW5nLCBkZWZhdWx0VmFsOiBUKTogVCB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgZGF0YSA9IGZzLnJlYWRGaWxlU3luYyhmaWxlLCAndXRmLTgnKTtcbiAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UoZGF0YSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICByZXR1cm4gZGVmYXVsdFZhbDtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHdyaXRlSlNPTihmaWxlOiBzdHJpbmcsIGRhdGE6IGFueSkge1xuICAgIGZzLndyaXRlRmlsZVN5bmMoZmlsZSwgSlNPTi5zdHJpbmdpZnkoZGF0YSwgbnVsbCwgMikpO1xufVxuXG5leHBvcnQgY29uc3QgZGIgPSB7XG4gIHVzZXJzOiB7XG4gICAgZmluZEFsbDogKCk6IFVzZXJbXSA9PiByZWFkSlNPTihVU0VSU19GSUxFLCBbXSksXG4gICAgXG4gICAgZmluZEJ5RW1haWw6IChlbWFpbDogc3RyaW5nKTogVXNlciB8IHVuZGVmaW5lZCA9PiB7XG4gICAgICByZXR1cm4gZGIudXNlcnMuZmluZEFsbCgpLmZpbmQodSA9PiB1LmVtYWlsID09PSBlbWFpbCk7XG4gICAgfSxcblxuICAgIGZpbmRCeVBob25lOiAocGhvbmU6IHN0cmluZyk6IFVzZXIgfCB1bmRlZmluZWQgPT4ge1xuICAgICAgcmV0dXJuIGRiLnVzZXJzLmZpbmRBbGwoKS5maW5kKHUgPT4gdS5waG9uZSA9PT0gcGhvbmUpO1xuICAgIH0sXG4gICAgXG4gICAgY3JlYXRlOiAodXNlcjogVXNlcik6IFVzZXIgPT4ge1xuICAgICAgY29uc3QgdXNlcnMgPSBkYi51c2Vycy5maW5kQWxsKCk7XG4gICAgICB1c2Vycy5wdXNoKHVzZXIpO1xuICAgICAgd3JpdGVKU09OKFVTRVJTX0ZJTEUsIHVzZXJzKTtcbiAgICAgIHJldHVybiB1c2VyO1xuICAgIH0sXG5cbiAgICB1cGRhdGU6ICh1c2VySWQ6IHN0cmluZywgdXBkYXRlczogUGFydGlhbDxVc2VyPik6IFVzZXIgfCBudWxsID0+IHtcbiAgICAgIGNvbnN0IHVzZXJzID0gZGIudXNlcnMuZmluZEFsbCgpO1xuICAgICAgY29uc3QgaW5kZXggPSB1c2Vycy5maW5kSW5kZXgodSA9PiB1LmlkID09PSB1c2VySWQpO1xuICAgICAgaWYgKGluZGV4ID09PSAtMSkgcmV0dXJuIG51bGw7XG4gICAgICBjb25zdCB1cGRhdGVkID0geyAuLi51c2Vyc1tpbmRleF0sIC4uLnVwZGF0ZXMgfTtcbiAgICAgIHVzZXJzW2luZGV4XSA9IHVwZGF0ZWQ7XG4gICAgICB3cml0ZUpTT04oVVNFUlNfRklMRSwgdXNlcnMpO1xuICAgICAgcmV0dXJuIHVwZGF0ZWQ7XG4gICAgfVxuICB9LFxuXG4gIHJvbGVzOiB7XG4gICAgZ2V0UGVybWlzc2lvbnM6IChyb2xlTmFtZTogc3RyaW5nKTogUGVybWlzc2lvbktleVtdID0+IHtcbiAgICAgIGNvbnN0IG1hcHBlZFJvbGUgPSBST0xFX01BUFBJTkdbcm9sZU5hbWVdIHx8IHJvbGVOYW1lO1xuICAgICAgcmV0dXJuIFJPTEVTX0NPTkZJR1ttYXBwZWRSb2xlXSB8fCBST0xFU19DT05GSUdbJ3RvcmNlZG9yJ107XG4gICAgfVxuICB9LFxuXG4gIHNldHRpbmdzOiB7XG4gICAgZ2V0OiAodGVuYW50SWQ6IHN0cmluZyA9ICdnbG9iYWwnKTogU3lzdGVtU2V0dGluZ3MgPT4ge1xuICAgICAgY29uc3Qgc2V0dGluZ3NMaXN0ID0gcmVhZEpTT048U3lzdGVtU2V0dGluZ3NbXT4oU0VUVElOR1NfRklMRSwgW10pO1xuICAgICAgcmV0dXJuIHNldHRpbmdzTGlzdC5maW5kKHMgPT4gcy5pZCA9PT0gdGVuYW50SWQpIHx8IHsgLi4uREVGQVVMVF9TRVRUSU5HUywgaWQ6IHRlbmFudElkIH07XG4gICAgfSxcbiAgICBcbiAgICB1cGRhdGU6ICh0ZW5hbnRJZDogc3RyaW5nLCB1cGRhdGVzOiBQYXJ0aWFsPFN5c3RlbVNldHRpbmdzPiwgdXNlcklkPzogc3RyaW5nLCB1c2VyRW1haWw/OiBzdHJpbmcpOiBTeXN0ZW1TZXR0aW5ncyA9PiB7XG4gICAgICBjb25zdCBzZXR0aW5nc0xpc3QgPSByZWFkSlNPTjxTeXN0ZW1TZXR0aW5nc1tdPihTRVRUSU5HU19GSUxFLCBbXSk7XG4gICAgICBjb25zdCBpbmRleCA9IHNldHRpbmdzTGlzdC5maW5kSW5kZXgocyA9PiBzLmlkID09PSB0ZW5hbnRJZCk7XG4gICAgICBcbiAgICAgIGxldCBjdXJyZW50U2V0dGluZ3MgPSBpbmRleCAhPT0gLTEgPyBzZXR0aW5nc0xpc3RbaW5kZXhdIDogeyAuLi5ERUZBVUxUX1NFVFRJTkdTLCBpZDogdGVuYW50SWQgfTtcbiAgICAgIGNvbnN0IG9sZFNldHRpbmdzID0geyAuLi5jdXJyZW50U2V0dGluZ3MgfTtcbiAgICAgIFxuICAgICAgY29uc3QgbmV3U2V0dGluZ3MgPSB7XG4gICAgICAgICAgLi4uY3VycmVudFNldHRpbmdzLFxuICAgICAgICAgIC4uLnVwZGF0ZXMsXG4gICAgICAgICAgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcbiAgICAgIH07XG5cbiAgICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgICAgc2V0dGluZ3NMaXN0W2luZGV4XSA9IG5ld1NldHRpbmdzO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2V0dGluZ3NMaXN0LnB1c2gobmV3U2V0dGluZ3MpO1xuICAgICAgfVxuXG4gICAgICB3cml0ZUpTT04oU0VUVElOR1NfRklMRSwgc2V0dGluZ3NMaXN0KTtcblxuICAgICAgLy8gQ3JlYXRlIGxvZyBlbnRyeSBpZiB1c2VyIGluZm8gaXMgcHJvdmlkZWRcbiAgICAgIGlmICh1c2VySWQgJiYgdXNlckVtYWlsKSB7XG4gICAgICAgICAgLy8gSWRlbnRpZnkgY2hhbmdlZCBtb2R1bGVcbiAgICAgICAgICBjb25zdCBtb2R1bGVzID0gT2JqZWN0LmtleXModXBkYXRlcykgYXMgKGtleW9mIFN5c3RlbVNldHRpbmdzKVtdO1xuICAgICAgICAgIG1vZHVsZXMuZm9yRWFjaChtb2R1bGUgPT4ge1xuICAgICAgICAgICAgICBpZiAobW9kdWxlID09PSAnaWQnIHx8IG1vZHVsZSA9PT0gJ3VwZGF0ZWRBdCcpIHJldHVybjtcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIGRiLmxvZ3MuY3JlYXRlKHtcbiAgICAgICAgICAgICAgICAgIGlkOiBjcnlwdG8ucmFuZG9tVVVJRCgpLFxuICAgICAgICAgICAgICAgICAgdGVuYW50SWQsXG4gICAgICAgICAgICAgICAgICB1c2VySWQsXG4gICAgICAgICAgICAgICAgICB1c2VyRW1haWwsXG4gICAgICAgICAgICAgICAgICBtb2R1bGU6IG1vZHVsZSBhcyBhbnksXG4gICAgICAgICAgICAgICAgICBhY3Rpb246ICdVUERBVEUnLFxuICAgICAgICAgICAgICAgICAgb2xkVmFsdWU6IChvbGRTZXR0aW5ncyBhcyBhbnkpW21vZHVsZV0sXG4gICAgICAgICAgICAgICAgICBuZXdWYWx1ZTogKG5ld1NldHRpbmdzIGFzIGFueSlbbW9kdWxlXSxcbiAgICAgICAgICAgICAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbmV3U2V0dGluZ3M7XG4gICAgfVxuICB9LFxuXG4gIGxvZ3M6IHtcbiAgICBmaW5kQWxsOiAoKTogU2V0dGluZ3NMb2dbXSA9PiByZWFkSlNPTihMT0dTX0ZJTEUsIFtdKSxcbiAgICBjcmVhdGU6IChsb2c6IFNldHRpbmdzTG9nKSA9PiB7XG4gICAgICAgIGNvbnN0IGxvZ3MgPSBkYi5sb2dzLmZpbmRBbGwoKTtcbiAgICAgICAgbG9ncy51bnNoaWZ0KGxvZyk7IC8vIEFkZCB0byBiZWdpbm5pbmdcbiAgICAgICAgd3JpdGVKU09OKExPR1NfRklMRSwgbG9ncyk7XG4gICAgICAgIHJldHVybiBsb2c7XG4gICAgfVxuICB9LFxuXG4gIHNlc3Npb25zOiB7XG4gICAgZmluZEFsbDogKCk6IFVzZXJTZXNzaW9uW10gPT4gcmVhZEpTT04oU0VTU0lPTlNfRklMRSwgW10pLFxuICAgIGNyZWF0ZTogKHNlc3Npb246IFVzZXJTZXNzaW9uKSA9PiB7XG4gICAgICAgIGNvbnN0IHNlc3Npb25zID0gZGIuc2Vzc2lvbnMuZmluZEFsbCgpO1xuICAgICAgICBzZXNzaW9ucy5wdXNoKHNlc3Npb24pO1xuICAgICAgICB3cml0ZUpTT04oU0VTU0lPTlNfRklMRSwgc2Vzc2lvbnMpO1xuICAgICAgICByZXR1cm4gc2Vzc2lvbjtcbiAgICB9LFxuICAgIGtpbGw6IChzZXNzaW9uSWQ6IHN0cmluZykgPT4ge1xuICAgICAgICBjb25zdCBzZXNzaW9ucyA9IGRiLnNlc3Npb25zLmZpbmRBbGwoKTtcbiAgICAgICAgY29uc3QgaW5kZXggPSBzZXNzaW9ucy5maW5kSW5kZXgocyA9PiBzLmlkID09PSBzZXNzaW9uSWQpO1xuICAgICAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICBzZXNzaW9uc1tpbmRleF0uaXNBY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgICAgIHdyaXRlSlNPTihTRVNTSU9OU19GSUxFLCBzZXNzaW9ucyk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGtpbGxBbGw6ICgpID0+IHtcbiAgICAgICAgY29uc3Qgc2Vzc2lvbnMgPSBkYi5zZXNzaW9ucy5maW5kQWxsKCk7XG4gICAgICAgIHNlc3Npb25zLmZvckVhY2gocyA9PiBzLmlzQWN0aXZlID0gZmFsc2UpO1xuICAgICAgICB3cml0ZUpTT04oU0VTU0lPTlNfRklMRSwgc2Vzc2lvbnMpO1xuICAgIH1cbiAgfSxcblxuICBjb25zZW50czoge1xuICAgIGZpbmRBbGw6ICgpOiBQcml2YWN5Q29uc2VudFtdID0+IHJlYWRKU09OKENPTlNFTlRTX0ZJTEUsIFtdKSxcbiAgICBjcmVhdGU6IChjb25zZW50OiBQcml2YWN5Q29uc2VudCkgPT4ge1xuICAgICAgICBjb25zdCBjb25zZW50cyA9IGRiLmNvbnNlbnRzLmZpbmRBbGwoKTtcbiAgICAgICAgY29uc2VudHMucHVzaChjb25zZW50KTtcbiAgICAgICAgd3JpdGVKU09OKENPTlNFTlRTX0ZJTEUsIGNvbnNlbnRzKTtcbiAgICAgICAgcmV0dXJuIGNvbnNlbnQ7XG4gICAgfVxuICB9LFxuXG4gIG90cDoge1xuICAgIGZpbmRBbGw6ICgpOiBPVFBbXSA9PiByZWFkSlNPTihPVFBfRklMRSwgW10pLFxuXG4gICAgY3JlYXRlOiAob3RwOiBPVFApOiBPVFAgPT4ge1xuICAgICAgY29uc3Qgb3RwcyA9IGRiLm90cC5maW5kQWxsKCk7XG4gICAgICBjb25zdCBmaWx0ZXJlZCA9IG90cHMuZmlsdGVyKG8gPT4gby5waG9uZSAhPT0gb3RwLnBob25lKTtcbiAgICAgIGZpbHRlcmVkLnB1c2gob3RwKTtcbiAgICAgIHdyaXRlSlNPTihPVFBfRklMRSwgZmlsdGVyZWQpO1xuICAgICAgcmV0dXJuIG90cDtcbiAgICB9LFxuXG4gICAgZmluZFZhbGlkOiAocGhvbmU6IHN0cmluZywgY29kZTogc3RyaW5nKTogT1RQIHwgdW5kZWZpbmVkID0+IHtcbiAgICAgIGNvbnN0IG90cHMgPSBkYi5vdHAuZmluZEFsbCgpO1xuICAgICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKTtcbiAgICAgIHJldHVybiBvdHBzLmZpbmQobyA9PiBcbiAgICAgICAgby5waG9uZSA9PT0gcGhvbmUgJiYgXG4gICAgICAgIG8uY29kZSA9PT0gY29kZSAmJiBcbiAgICAgICAgIW8udmVyaWZpZWQgJiYgXG4gICAgICAgIG5ldyBEYXRlKG8uZXhwaXJlc19hdCkgPiBub3dcbiAgICAgICk7XG4gICAgfSxcblxuICAgIG1hcmtWZXJpZmllZDogKGlkOiBzdHJpbmcpID0+IHtcbiAgICAgIGNvbnN0IG90cHMgPSBkYi5vdHAuZmluZEFsbCgpO1xuICAgICAgY29uc3QgaW5kZXggPSBvdHBzLmZpbmRJbmRleChvID0+IG8uaWQgPT09IGlkKTtcbiAgICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgICAgb3Rwc1tpbmRleF0udmVyaWZpZWQgPSB0cnVlO1xuICAgICAgICB3cml0ZUpTT04oT1RQX0ZJTEUsIG90cHMpO1xuICAgICAgfVxuICAgIH1cbiAgfSxcblxuICBwYXNzd29yZFJlc2V0czoge1xuICAgIGZpbmRBbGw6ICgpOiBQYXNzd29yZFJlc2V0W10gPT4gcmVhZEpTT04oUEFTU1dPUkRfUkVTRVRTX0ZJTEUsIFtdKSxcblxuICAgIGNyZWF0ZTogKHJlc2V0OiBQYXNzd29yZFJlc2V0KTogUGFzc3dvcmRSZXNldCA9PiB7XG4gICAgICBjb25zdCByZXNldHMgPSBkYi5wYXNzd29yZFJlc2V0cy5maW5kQWxsKCk7XG4gICAgICBjb25zdCBmaWx0ZXJlZCA9IHJlc2V0cy5maWx0ZXIociA9PiByLnVzZXJJZCAhPT0gcmVzZXQudXNlcklkIHx8IHIuY2hhbm5lbCAhPT0gcmVzZXQuY2hhbm5lbCk7XG4gICAgICBmaWx0ZXJlZC5wdXNoKHJlc2V0KTtcbiAgICAgIHdyaXRlSlNPTihQQVNTV09SRF9SRVNFVFNfRklMRSwgZmlsdGVyZWQpO1xuICAgICAgcmV0dXJuIHJlc2V0O1xuICAgIH0sXG5cbiAgICBmaW5kVmFsaWQ6ICh0b2tlbjogc3RyaW5nKTogUGFzc3dvcmRSZXNldCB8IHVuZGVmaW5lZCA9PiB7XG4gICAgICBjb25zdCByZXNldHMgPSBkYi5wYXNzd29yZFJlc2V0cy5maW5kQWxsKCk7XG4gICAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xuICAgICAgcmV0dXJuIHJlc2V0cy5maW5kKHIgPT4gci5pZCA9PT0gdG9rZW4gJiYgIXIudXNlZCAmJiBuZXcgRGF0ZShyLmV4cGlyZXNfYXQpID4gbm93KTtcbiAgICB9LFxuXG4gICAgbWFya1VzZWQ6ICh0b2tlbjogc3RyaW5nKSA9PiB7XG4gICAgICBjb25zdCByZXNldHMgPSBkYi5wYXNzd29yZFJlc2V0cy5maW5kQWxsKCk7XG4gICAgICBjb25zdCBpbmRleCA9IHJlc2V0cy5maW5kSW5kZXgociA9PiByLmlkID09PSB0b2tlbik7XG4gICAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICAgIHJlc2V0c1tpbmRleF0udXNlZCA9IHRydWU7XG4gICAgICAgIHdyaXRlSlNPTihQQVNTV09SRF9SRVNFVFNfRklMRSwgcmVzZXRzKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG5cbiAgdGVhbToge1xuICAgIGdldDogKCkgPT4gcmVhZEpTT048VGVhbURhdGE+KFRFQU1fRklMRSwge30gYXMgVGVhbURhdGEpLFxuICAgIHVwZGF0ZTogKGRhdGE6IFBhcnRpYWw8VGVhbURhdGE+KSA9PiB7XG4gICAgICBjb25zdCBjdXJyZW50ID0gcmVhZEpTT048VGVhbURhdGE+KFRFQU1fRklMRSwge30gYXMgVGVhbURhdGEpO1xuICAgICAgY29uc3QgdXBkYXRlZCA9IHsgLi4uY3VycmVudCwgLi4uZGF0YSB9O1xuICAgICAgd3JpdGVKU09OKFRFQU1fRklMRSwgdXBkYXRlZCk7XG4gICAgICByZXR1cm4gdXBkYXRlZDtcbiAgICB9XG4gIH1cbn07XG4iXSwibmFtZXMiOlsiZnMiLCJwYXRoIiwiREVGQVVMVF9TRVRUSU5HUyIsIkRBVEFfRElSIiwiam9pbiIsInByb2Nlc3MiLCJjd2QiLCJVU0VSU19GSUxFIiwiT1RQX0ZJTEUiLCJTRVRUSU5HU19GSUxFIiwiTE9HU19GSUxFIiwiU0VTU0lPTlNfRklMRSIsIkNPTlNFTlRTX0ZJTEUiLCJURUFNX0ZJTEUiLCJQQVNTV09SRF9SRVNFVFNfRklMRSIsIlJPTEVTX0NPTkZJRyIsIlJPTEVfTUFQUElORyIsImV4aXN0c1N5bmMiLCJta2RpclN5bmMiLCJmb3JFYWNoIiwiZmlsZSIsIndyaXRlRmlsZVN5bmMiLCJKU09OIiwic3RyaW5naWZ5IiwicmVhZEpTT04iLCJkZWZhdWx0VmFsIiwiZGF0YSIsInJlYWRGaWxlU3luYyIsInBhcnNlIiwiZSIsIndyaXRlSlNPTiIsImRiIiwidXNlcnMiLCJmaW5kQWxsIiwiZmluZEJ5RW1haWwiLCJlbWFpbCIsImZpbmQiLCJ1IiwiZmluZEJ5UGhvbmUiLCJwaG9uZSIsImNyZWF0ZSIsInVzZXIiLCJwdXNoIiwidXBkYXRlIiwidXNlcklkIiwidXBkYXRlcyIsImluZGV4IiwiZmluZEluZGV4IiwiaWQiLCJ1cGRhdGVkIiwicm9sZXMiLCJnZXRQZXJtaXNzaW9ucyIsInJvbGVOYW1lIiwibWFwcGVkUm9sZSIsInNldHRpbmdzIiwiZ2V0IiwidGVuYW50SWQiLCJzZXR0aW5nc0xpc3QiLCJzIiwidXNlckVtYWlsIiwiY3VycmVudFNldHRpbmdzIiwib2xkU2V0dGluZ3MiLCJuZXdTZXR0aW5ncyIsInVwZGF0ZWRBdCIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsIm1vZHVsZXMiLCJPYmplY3QiLCJrZXlzIiwibW9kdWxlIiwibG9ncyIsImNyeXB0byIsInJhbmRvbVVVSUQiLCJhY3Rpb24iLCJvbGRWYWx1ZSIsIm5ld1ZhbHVlIiwiY3JlYXRlZEF0IiwibG9nIiwidW5zaGlmdCIsInNlc3Npb25zIiwic2Vzc2lvbiIsImtpbGwiLCJzZXNzaW9uSWQiLCJpc0FjdGl2ZSIsImtpbGxBbGwiLCJjb25zZW50cyIsImNvbnNlbnQiLCJvdHAiLCJvdHBzIiwiZmlsdGVyZWQiLCJmaWx0ZXIiLCJvIiwiZmluZFZhbGlkIiwiY29kZSIsIm5vdyIsInZlcmlmaWVkIiwiZXhwaXJlc19hdCIsIm1hcmtWZXJpZmllZCIsInBhc3N3b3JkUmVzZXRzIiwicmVzZXQiLCJyZXNldHMiLCJyIiwiY2hhbm5lbCIsInRva2VuIiwidXNlZCIsIm1hcmtVc2VkIiwidGVhbSIsImN1cnJlbnQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/db.ts\n");

/***/ }),

/***/ "(rsc)/./src/types/settings.ts":
/*!*******************************!*\
  !*** ./src/types/settings.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DEFAULT_SETTINGS: () => (/* binding */ DEFAULT_SETTINGS)\n/* harmony export */ });\nconst DEFAULT_SETTINGS = {\n    id: \"global\",\n    updatedAt: new Date().toISOString(),\n    updatedBy: \"system\",\n    general: {\n        teamName: \"Meu Time FC\",\n        logoUrl: \"/logo.png\",\n        primaryColor: \"#0F5132\",\n        secondaryColor: \"#2ECC71\",\n        language: \"pt-BR\",\n        timezone: \"America/Sao_Paulo\"\n    },\n    security: {\n        passwordPolicy: {\n            minLength: 8,\n            requireNumbers: true,\n            requireSymbols: false\n        },\n        loginMethods: {\n            whatsapp: true,\n            email: true,\n            google: false\n        },\n        sessionTimeoutMinutes: 60\n    },\n    lgpd: {\n        privacyPolicy: \"# Pol\\xedtica de Privacidade\\n\\n...\",\n        dataRetentionMonths: 12,\n        cookieConsentRequired: true,\n        dpoEmail: \"dpo@meutimefc.com\"\n    },\n    payments: {\n        pixEnabled: true,\n        creditCardEnabled: true,\n        gateway: \"mercadopago\",\n        activePlan: \"free\"\n    },\n    store: {\n        enabled: true,\n        defaultProfitMargin: 30,\n        minStockAlert: 5,\n        shippingFlatRate: 15.00,\n        oneClickCheckout: true\n    },\n    leagues: {\n        currentSeason: \"2026\",\n        defaultPointsWin: 3,\n        defaultPointsDraw: 1,\n        maxTeamsPerLeague: 20\n    },\n    broadcast: {\n        enabled: false,\n        platform: \"youtube\",\n        streamDelaySeconds: 0,\n        monetizationEnabled: false\n    },\n    notifications: {\n        whatsappEnabled: true,\n        emailEnabled: true,\n        pushEnabled: true\n    },\n    integrations: {\n        webhooks: [],\n        apiKeys: []\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvdHlwZXMvc2V0dGluZ3MudHMiLCJtYXBwaW5ncyI6Ijs7OztBQThJTyxNQUFNQSxtQkFBbUM7SUFDOUNDLElBQUk7SUFDSkMsV0FBVyxJQUFJQyxPQUFPQyxXQUFXO0lBQ2pDQyxXQUFXO0lBQ1hDLFNBQVM7UUFDUEMsVUFBVTtRQUNWQyxTQUFTO1FBQ1RDLGNBQWM7UUFDZEMsZ0JBQWdCO1FBQ2hCQyxVQUFVO1FBQ1ZDLFVBQVU7SUFDWjtJQUNBQyxVQUFVO1FBQ1JDLGdCQUFnQjtZQUFFQyxXQUFXO1lBQUdDLGdCQUFnQjtZQUFNQyxnQkFBZ0I7UUFBTTtRQUM1RUMsY0FBYztZQUFFQyxVQUFVO1lBQU1DLE9BQU87WUFBTUMsUUFBUTtRQUFNO1FBQzNEQyx1QkFBdUI7SUFDekI7SUFDQUMsTUFBTTtRQUNKQyxlQUFlO1FBQ2ZDLHFCQUFxQjtRQUNyQkMsdUJBQXVCO1FBQ3ZCQyxVQUFVO0lBQ1o7SUFDQUMsVUFBVTtRQUNSQyxZQUFZO1FBQ1pDLG1CQUFtQjtRQUNuQkMsU0FBUztRQUNUQyxZQUFZO0lBQ2Q7SUFDQUMsT0FBTztRQUNMQyxTQUFTO1FBQ1RDLHFCQUFxQjtRQUNyQkMsZUFBZTtRQUNmQyxrQkFBa0I7UUFDbEJDLGtCQUFrQjtJQUNwQjtJQUNBQyxTQUFTO1FBQ1BDLGVBQWU7UUFDZkMsa0JBQWtCO1FBQ2xCQyxtQkFBbUI7UUFDbkJDLG1CQUFtQjtJQUNyQjtJQUNBQyxXQUFXO1FBQ1RWLFNBQVM7UUFDVFcsVUFBVTtRQUNWQyxvQkFBb0I7UUFDcEJDLHFCQUFxQjtJQUN2QjtJQUNBQyxlQUFlO1FBQ2JDLGlCQUFpQjtRQUNqQkMsY0FBYztRQUNkQyxhQUFhO0lBQ2Y7SUFDQUMsY0FBYztRQUNaQyxVQUFVLEVBQUU7UUFDWkMsU0FBUyxFQUFFO0lBQ2I7QUFDRixFQUFFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWV1dGltZS1mYy8uL3NyYy90eXBlcy9zZXR0aW5ncy50cz8zMjc0Il0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCB0eXBlIFNldHRpbmdzTW9kdWxlID0gXG4gIHwgJ2dlbmVyYWwnIFxuICB8ICd1c2VycycgXG4gIHwgJ3NlY3VyaXR5JyBcbiAgfCAnbGdwZCcgXG4gIHwgJ3BheW1lbnRzJyBcbiAgfCAnc3RvcmUnIFxuICB8ICdsZWFndWVzJyBcbiAgfCAnYnJvYWRjYXN0JyBcbiAgfCAnbm90aWZpY2F0aW9ucycgXG4gIHwgJ2ludGVncmF0aW9ucyc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgR2VuZXJhbFNldHRpbmdzIHtcbiAgdGVhbU5hbWU6IHN0cmluZztcbiAgbG9nb1VybDogc3RyaW5nO1xuICBwcmltYXJ5Q29sb3I6IHN0cmluZztcbiAgc2Vjb25kYXJ5Q29sb3I6IHN0cmluZztcbiAgbGFuZ3VhZ2U6ICdwdC1CUicgfCAnZW4tVVMnIHwgJ2VzJztcbiAgdGltZXpvbmU6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTZWN1cml0eVNldHRpbmdzIHtcbiAgcGFzc3dvcmRQb2xpY3k6IHtcbiAgICBtaW5MZW5ndGg6IG51bWJlcjtcbiAgICByZXF1aXJlTnVtYmVyczogYm9vbGVhbjtcbiAgICByZXF1aXJlU3ltYm9sczogYm9vbGVhbjtcbiAgfTtcbiAgbG9naW5NZXRob2RzOiB7XG4gICAgd2hhdHNhcHA6IGJvb2xlYW47XG4gICAgZW1haWw6IGJvb2xlYW47XG4gICAgZ29vZ2xlOiBib29sZWFuO1xuICB9O1xuICBzZXNzaW9uVGltZW91dE1pbnV0ZXM6IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBMR1BEU2V0dGluZ3Mge1xuICBwcml2YWN5UG9saWN5OiBzdHJpbmc7IC8vIE1hcmtkb3duIGNvbnRlbnRcbiAgZGF0YVJldGVudGlvbk1vbnRoczogbnVtYmVyO1xuICBjb29raWVDb25zZW50UmVxdWlyZWQ6IGJvb2xlYW47XG4gIGRwb0VtYWlsOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUGF5bWVudFNldHRpbmdzIHtcbiAgcGl4RW5hYmxlZDogYm9vbGVhbjtcbiAgY3JlZGl0Q2FyZEVuYWJsZWQ6IGJvb2xlYW47XG4gIGdhdGV3YXk6ICdtZXJjYWRvcGFnbycgfCAnc3RyaXBlJyB8ICdwYWdhcm1lJztcbiAgYWN0aXZlUGxhbjogJ2ZyZWUnIHwgJ3BybycgfCAnZW50ZXJwcmlzZSc7XG4gIHdlYmhvb2tVcmw/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3RvcmVTZXR0aW5ncyB7XG4gIGVuYWJsZWQ6IGJvb2xlYW47XG4gIGRlZmF1bHRQcm9maXRNYXJnaW46IG51bWJlcjtcbiAgbWluU3RvY2tBbGVydDogbnVtYmVyO1xuICBzaGlwcGluZ0ZsYXRSYXRlOiBudW1iZXI7XG4gIG9uZUNsaWNrQ2hlY2tvdXQ6IGJvb2xlYW47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTGVhZ3VlU2V0dGluZ3Mge1xuICBjdXJyZW50U2Vhc29uOiBzdHJpbmc7XG4gIGRlZmF1bHRQb2ludHNXaW46IG51bWJlcjtcbiAgZGVmYXVsdFBvaW50c0RyYXc6IG51bWJlcjtcbiAgbWF4VGVhbXNQZXJMZWFndWU6IG51bWJlcjtcbiAgcmVndWxhdGlvblVybD86IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcm9hZGNhc3RTZXR0aW5ncyB7XG4gIGVuYWJsZWQ6IGJvb2xlYW47XG4gIHBsYXRmb3JtOiAneW91dHViZScgfCAndHdpdGNoJyB8ICdydG1wJztcbiAgc3RyZWFtRGVsYXlTZWNvbmRzOiBudW1iZXI7XG4gIG1vbmV0aXphdGlvbkVuYWJsZWQ6IGJvb2xlYW47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTm90aWZpY2F0aW9uU2V0dGluZ3Mge1xuICB3aGF0c2FwcEVuYWJsZWQ6IGJvb2xlYW47XG4gIGVtYWlsRW5hYmxlZDogYm9vbGVhbjtcbiAgcHVzaEVuYWJsZWQ6IGJvb2xlYW47XG4gIHdlbGNvbWVUZW1wbGF0ZUlkPzogc3RyaW5nO1xuICBtYXRjaFJlbWluZGVyVGVtcGxhdGVJZD86IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJbnRlZ3JhdGlvblNldHRpbmdzIHtcbiAgd2ViaG9va3M6IHtcbiAgICB1cmw6IHN0cmluZztcbiAgICBldmVudHM6IHN0cmluZ1tdO1xuICAgIGFjdGl2ZTogYm9vbGVhbjtcbiAgfVtdO1xuICBhcGlLZXlzOiB7XG4gICAgaWQ6IHN0cmluZztcbiAgICBuYW1lOiBzdHJpbmc7XG4gICAga2V5OiBzdHJpbmc7IC8vIG1hc2tlZFxuICAgIGNyZWF0ZWRBdDogc3RyaW5nO1xuICB9W107XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU2V0dGluZ3NMb2cge1xuICBpZDogc3RyaW5nO1xuICB0ZW5hbnRJZDogc3RyaW5nO1xuICB1c2VySWQ6IHN0cmluZztcbiAgdXNlckVtYWlsOiBzdHJpbmc7IC8vIERlbm9ybWFsaXplZCBmb3IgZGlzcGxheVxuICBtb2R1bGU6IFNldHRpbmdzTW9kdWxlO1xuICBhY3Rpb246IHN0cmluZztcbiAgb2xkVmFsdWU/OiBhbnk7XG4gIG5ld1ZhbHVlPzogYW55O1xuICBjcmVhdGVkQXQ6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBVc2VyU2Vzc2lvbiB7XG4gIGlkOiBzdHJpbmc7XG4gIHVzZXJJZDogc3RyaW5nO1xuICB0b2tlbjogc3RyaW5nO1xuICBpcEFkZHJlc3M6IHN0cmluZztcbiAgdXNlckFnZW50OiBzdHJpbmc7XG4gIGNyZWF0ZWRBdDogc3RyaW5nO1xuICBleHBpcmVzQXQ6IHN0cmluZztcbiAgaXNBY3RpdmU6IGJvb2xlYW47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUHJpdmFjeUNvbnNlbnQge1xuICBpZDogc3RyaW5nO1xuICB1c2VySWQ6IHN0cmluZztcbiAgY29uc2VudFR5cGU6ICdwcml2YWN5X3BvbGljeScgfCAnY29va2llX3VzYWdlJyB8ICdtYXJrZXRpbmcnO1xuICBhY2NlcHRlZDogYm9vbGVhbjtcbiAgYWNjZXB0ZWRBdDogc3RyaW5nO1xuICBpcEFkZHJlc3M6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTeXN0ZW1TZXR0aW5ncyB7XG4gIGlkOiBzdHJpbmc7IC8vIHVzdWFsbHkgdGVuYW50SWQgb3IgJ2dsb2JhbCdcbiAgZ2VuZXJhbDogR2VuZXJhbFNldHRpbmdzO1xuICBzZWN1cml0eTogU2VjdXJpdHlTZXR0aW5ncztcbiAgbGdwZDogTEdQRFNldHRpbmdzO1xuICBwYXltZW50czogUGF5bWVudFNldHRpbmdzO1xuICBzdG9yZTogU3RvcmVTZXR0aW5ncztcbiAgbGVhZ3VlczogTGVhZ3VlU2V0dGluZ3M7XG4gIGJyb2FkY2FzdDogQnJvYWRjYXN0U2V0dGluZ3M7XG4gIG5vdGlmaWNhdGlvbnM6IE5vdGlmaWNhdGlvblNldHRpbmdzO1xuICBpbnRlZ3JhdGlvbnM6IEludGVncmF0aW9uU2V0dGluZ3M7XG4gIHVwZGF0ZWRBdDogc3RyaW5nO1xuICB1cGRhdGVkQnk6IHN0cmluZztcbn1cblxuZXhwb3J0IGNvbnN0IERFRkFVTFRfU0VUVElOR1M6IFN5c3RlbVNldHRpbmdzID0ge1xuICBpZDogJ2dsb2JhbCcsXG4gIHVwZGF0ZWRBdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICB1cGRhdGVkQnk6ICdzeXN0ZW0nLFxuICBnZW5lcmFsOiB7XG4gICAgdGVhbU5hbWU6ICdNZXUgVGltZSBGQycsXG4gICAgbG9nb1VybDogJy9sb2dvLnBuZycsXG4gICAgcHJpbWFyeUNvbG9yOiAnIzBGNTEzMicsXG4gICAgc2Vjb25kYXJ5Q29sb3I6ICcjMkVDQzcxJyxcbiAgICBsYW5ndWFnZTogJ3B0LUJSJyxcbiAgICB0aW1lem9uZTogJ0FtZXJpY2EvU2FvX1BhdWxvJ1xuICB9LFxuICBzZWN1cml0eToge1xuICAgIHBhc3N3b3JkUG9saWN5OiB7IG1pbkxlbmd0aDogOCwgcmVxdWlyZU51bWJlcnM6IHRydWUsIHJlcXVpcmVTeW1ib2xzOiBmYWxzZSB9LFxuICAgIGxvZ2luTWV0aG9kczogeyB3aGF0c2FwcDogdHJ1ZSwgZW1haWw6IHRydWUsIGdvb2dsZTogZmFsc2UgfSxcbiAgICBzZXNzaW9uVGltZW91dE1pbnV0ZXM6IDYwXG4gIH0sXG4gIGxncGQ6IHtcbiAgICBwcml2YWN5UG9saWN5OiAnIyBQb2zDrXRpY2EgZGUgUHJpdmFjaWRhZGVcXG5cXG4uLi4nLFxuICAgIGRhdGFSZXRlbnRpb25Nb250aHM6IDEyLFxuICAgIGNvb2tpZUNvbnNlbnRSZXF1aXJlZDogdHJ1ZSxcbiAgICBkcG9FbWFpbDogJ2Rwb0BtZXV0aW1lZmMuY29tJ1xuICB9LFxuICBwYXltZW50czoge1xuICAgIHBpeEVuYWJsZWQ6IHRydWUsXG4gICAgY3JlZGl0Q2FyZEVuYWJsZWQ6IHRydWUsXG4gICAgZ2F0ZXdheTogJ21lcmNhZG9wYWdvJyxcbiAgICBhY3RpdmVQbGFuOiAnZnJlZSdcbiAgfSxcbiAgc3RvcmU6IHtcbiAgICBlbmFibGVkOiB0cnVlLFxuICAgIGRlZmF1bHRQcm9maXRNYXJnaW46IDMwLFxuICAgIG1pblN0b2NrQWxlcnQ6IDUsXG4gICAgc2hpcHBpbmdGbGF0UmF0ZTogMTUuMDAsXG4gICAgb25lQ2xpY2tDaGVja291dDogdHJ1ZVxuICB9LFxuICBsZWFndWVzOiB7XG4gICAgY3VycmVudFNlYXNvbjogJzIwMjYnLFxuICAgIGRlZmF1bHRQb2ludHNXaW46IDMsXG4gICAgZGVmYXVsdFBvaW50c0RyYXc6IDEsXG4gICAgbWF4VGVhbXNQZXJMZWFndWU6IDIwXG4gIH0sXG4gIGJyb2FkY2FzdDoge1xuICAgIGVuYWJsZWQ6IGZhbHNlLFxuICAgIHBsYXRmb3JtOiAneW91dHViZScsXG4gICAgc3RyZWFtRGVsYXlTZWNvbmRzOiAwLFxuICAgIG1vbmV0aXphdGlvbkVuYWJsZWQ6IGZhbHNlXG4gIH0sXG4gIG5vdGlmaWNhdGlvbnM6IHtcbiAgICB3aGF0c2FwcEVuYWJsZWQ6IHRydWUsXG4gICAgZW1haWxFbmFibGVkOiB0cnVlLFxuICAgIHB1c2hFbmFibGVkOiB0cnVlXG4gIH0sXG4gIGludGVncmF0aW9uczoge1xuICAgIHdlYmhvb2tzOiBbXSxcbiAgICBhcGlLZXlzOiBbXVxuICB9XG59O1xuIl0sIm5hbWVzIjpbIkRFRkFVTFRfU0VUVElOR1MiLCJpZCIsInVwZGF0ZWRBdCIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsInVwZGF0ZWRCeSIsImdlbmVyYWwiLCJ0ZWFtTmFtZSIsImxvZ29VcmwiLCJwcmltYXJ5Q29sb3IiLCJzZWNvbmRhcnlDb2xvciIsImxhbmd1YWdlIiwidGltZXpvbmUiLCJzZWN1cml0eSIsInBhc3N3b3JkUG9saWN5IiwibWluTGVuZ3RoIiwicmVxdWlyZU51bWJlcnMiLCJyZXF1aXJlU3ltYm9scyIsImxvZ2luTWV0aG9kcyIsIndoYXRzYXBwIiwiZW1haWwiLCJnb29nbGUiLCJzZXNzaW9uVGltZW91dE1pbnV0ZXMiLCJsZ3BkIiwicHJpdmFjeVBvbGljeSIsImRhdGFSZXRlbnRpb25Nb250aHMiLCJjb29raWVDb25zZW50UmVxdWlyZWQiLCJkcG9FbWFpbCIsInBheW1lbnRzIiwicGl4RW5hYmxlZCIsImNyZWRpdENhcmRFbmFibGVkIiwiZ2F0ZXdheSIsImFjdGl2ZVBsYW4iLCJzdG9yZSIsImVuYWJsZWQiLCJkZWZhdWx0UHJvZml0TWFyZ2luIiwibWluU3RvY2tBbGVydCIsInNoaXBwaW5nRmxhdFJhdGUiLCJvbmVDbGlja0NoZWNrb3V0IiwibGVhZ3VlcyIsImN1cnJlbnRTZWFzb24iLCJkZWZhdWx0UG9pbnRzV2luIiwiZGVmYXVsdFBvaW50c0RyYXciLCJtYXhUZWFtc1BlckxlYWd1ZSIsImJyb2FkY2FzdCIsInBsYXRmb3JtIiwic3RyZWFtRGVsYXlTZWNvbmRzIiwibW9uZXRpemF0aW9uRW5hYmxlZCIsIm5vdGlmaWNhdGlvbnMiLCJ3aGF0c2FwcEVuYWJsZWQiLCJlbWFpbEVuYWJsZWQiLCJwdXNoRW5hYmxlZCIsImludGVncmF0aW9ucyIsIndlYmhvb2tzIiwiYXBpS2V5cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/types/settings.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/semver","vendor-chunks/bcryptjs","vendor-chunks/jsonwebtoken","vendor-chunks/lodash.includes","vendor-chunks/jws","vendor-chunks/lodash.once","vendor-chunks/jwa","vendor-chunks/lodash.isinteger","vendor-chunks/ecdsa-sig-formatter","vendor-chunks/lodash.isplainobject","vendor-chunks/ms","vendor-chunks/lodash.isstring","vendor-chunks/lodash.isnumber","vendor-chunks/lodash.isboolean","vendor-chunks/safe-buffer","vendor-chunks/buffer-equal-constant-time"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fsettings%2Froute&page=%2Fapi%2Fsettings%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fsettings%2Froute.ts&appDir=C%3A%5CUsers%5CUsu%C3%A1rio%5CDocuments%5Ctrae_projects%5Ciptv%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CUsu%C3%A1rio%5CDocuments%5Ctrae_projects%5Ciptv&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();